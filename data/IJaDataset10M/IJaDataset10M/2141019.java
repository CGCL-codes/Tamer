package codeposter;

import formatter.CodeFormatter;

public class HTMLExporter {

    public static String export(String string, boolean unicodeEnebled, boolean lineNumber, int colorCode) {
        CodeFormatter f = new CodeFormatter(null);
        f.setColorCode(colorCode);
        string = f.htmlFormat(string);
        String code = "<html>\n" + "\t<head>\n" + "\t\t<title> .:: My Code ::.. </title>\n" + "\t\t<style type='text/css'>\n" + "\t\t\t<!--\n" + "\t\t\t.code {\n" + "\t\t\t\tfont-family: 'Courier New', Courier, monospace;\n" + "\t\t\t\tfont-size:14px;\n" + "\t\t\t}\n" + "\t\t\t-->\n" + "\t\t</style>\n" + "\t</head>\n" + "\t<body>\n" + "\t\t\n" + "\t\t<!--\n\t\t\tDO NOT EDIT \n\t\t\tAUTO GENERATED BY ORKUTCODEPOSTER \n\t\t-->\n" + "\t\t<div class='code'>\n";
        int line = 0;
        int i = 0;
        while (true) {
            i = string.indexOf('\n', i);
            if (i == -1) break;
            i++;
            line++;
        }
        if (lineNumber) {
            code += "\t\t\t<div align='right'style='float:left;'>\n";
            for (i = 0; i <= line; i++) code += "\t\t\t\t" + (i + 1) + "<br>\n";
            code += "\t\t\t</div>\n";
            code += "\t\t\t<div style='float:left'>\n";
            for (i = 0; i <= line; i++) code += "\t\t\t\t&nbsp; <br>\n";
            code += "\t\t\t</div>\n";
        }
        code += "\t\t\t<div align='left'>\n\t\t\t\t" + string + "\n\t\t\t</div>\n";
        code += "\t\t\t<div align='center'>\n" + "\t\t\t\t<hr/>\n" + "\t\t\t\tExported as HTML by <a href='http://sourceforge.net/projects/orkutcodeposter/'>OrkutCodePoster</a>\n" + "\t\t\t</div>\n" + "\t\t</div>\n" + "\t\t<!-- END EDIT -->\n";
        code += "\t</body>\n";
        code += "</html>";
        return code;
    }
}
