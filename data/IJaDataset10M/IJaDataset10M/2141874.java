package org.semtinel.core.visuals.treeview;

import java.awt.BorderLayout;
import javax.swing.JPanel;
import org.openide.explorer.ExplorerManager;
import org.openide.explorer.ExplorerUtils;
import org.openide.explorer.view.BeanTreeView;
import org.openide.nodes.Children;
import org.openide.nodes.Node;
import org.openide.util.Lookup;
import org.semtinel.core.data.api.Concept;
import org.semtinel.core.data.api.TreePosition;

/**
 *
 * @author kai
 */
public class TreeviewPanel extends JPanel implements ExplorerManager.Provider, Lookup.Provider {

    private ExplorerManager explorerManager;

    private BeanTreeView view;

    private Lookup lookup;

    /** Creates new form TreeviewPanel */
    public TreeviewPanel() {
        initComponents();
        view = new BeanTreeView();
        add(view, BorderLayout.CENTER);
        explorerManager = new ExplorerManager();
        explorerManager.setRootContext(new TreePositionNode(new TreeviewTreePosition(new DummyConcept(), null)));
        this.lookup = ExplorerUtils.createLookup(explorerManager, getActionMap());
    }

    public ExplorerManager getExplorerManager() {
        return explorerManager;
    }

    public void setRoot(TreePositionNode tpn) {
        if (tpn == null) {
            explorerManager.setRootContext(new TreePositionNode());
        } else {
            explorerManager.setRootContext(tpn);
        }
    }

    @Override
    public Lookup getLookup() {
        return lookup;
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    private void initComponents() {
        setLayout(new java.awt.BorderLayout());
    }
}
