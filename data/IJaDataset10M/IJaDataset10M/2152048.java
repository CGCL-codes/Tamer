package view.filtro;

import controller.ControleFiltro;
import controller.ControleMorador;
import java.util.ArrayList;
import javax.swing.DefaultComboBoxModel;

/**
 * @author Heitor de Souza Ganzeli
 * @author Leandro de Oliveira Paz
 * @author Matheus Figueiredo Salgado Ribeiro
 */
public class TelaDefinirFiltroPadrao extends javax.swing.JPanel {

    private ControleFiltro controleFiltro;

    private ControleMorador controleMorador;

    /** 
     * Construtor utilizado pelo controle de filtro
     * @param cf ControleFiltro
     * @param filtros ArrayList dos filtros cadastrados
     * @param filtroAtual Nome do filtro padrao atual
     */
    public TelaDefinirFiltroPadrao(ControleFiltro cf, ArrayList filtros, String filtroAtual) {
        initComponents();
        this.controleFiltro = cf;
        mensagemSuperior.setText("Seu filtro Atual é " + filtroAtual + ". Escolha um novo filtro");
        filtros.add(0, "");
        cbFiltros.setModel(new DefaultComboBoxModel(filtros.toArray()));
    }

    /**
     * Construtor utilizado pelo controle do morador
     * @param cf ControleFiltro
     * @param filtros ArrayList dos filtros cadastrados
     * @param filtroAtual Nome do filtro padrao atual
     */
    public TelaDefinirFiltroPadrao(ControleMorador cm, ArrayList<String> filtros, String filtroAtual) {
        initComponents();
        this.controleMorador = cm;
        mensagemSuperior.setText("Seu filtro Atual é " + filtroAtual + ". Escolha um novo filtro");
        filtros.add(0, "");
        cbFiltros.setModel(new DefaultComboBoxModel(filtros.toArray()));
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    private void initComponents() {
        painelSuperior = new javax.swing.JPanel();
        mensagemSuperior = new javax.swing.JLabel();
        painelCentral = new javax.swing.JPanel();
        painelCadastroMorador2 = new javax.swing.JPanel();
        cbFiltros = new javax.swing.JComboBox();
        labelFiltro = new javax.swing.JLabel();
        painelInferior = new javax.swing.JPanel();
        painelBotoes = new javax.swing.JPanel();
        btConfirma = new javax.swing.JButton();
        btVolta = new javax.swing.JButton();
        btRepetir = new javax.swing.JButton();
        painelAviso = new javax.swing.JPanel();
        labelAviso = new javax.swing.JLabel();
        setPreferredSize(new java.awt.Dimension(600, 400));
        setLayout(new java.awt.BorderLayout());
        painelSuperior.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.CENTER, 5, 30));
        mensagemSuperior.setFont(new java.awt.Font("Tahoma", 1, 14));
        mensagemSuperior.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        mensagemSuperior.setText("Qual filtro você deseja definir como padrão?");
        painelSuperior.add(mensagemSuperior);
        add(painelSuperior, java.awt.BorderLayout.PAGE_START);
        painelCadastroMorador2.setPreferredSize(new java.awt.Dimension(300, 150));
        cbFiltros.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        cbFiltros.addItemListener(new java.awt.event.ItemListener() {

            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                limpaAviso(evt);
            }
        });
        cbFiltros.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbFiltrosActionPerformed(evt);
            }
        });
        labelFiltro.setFont(new java.awt.Font("Tahoma", 1, 12));
        labelFiltro.setText("Filtro:");
        org.jdesktop.layout.GroupLayout painelCadastroMorador2Layout = new org.jdesktop.layout.GroupLayout(painelCadastroMorador2);
        painelCadastroMorador2.setLayout(painelCadastroMorador2Layout);
        painelCadastroMorador2Layout.setHorizontalGroup(painelCadastroMorador2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING).add(painelCadastroMorador2Layout.createSequentialGroup().addContainerGap().add(labelFiltro).add(18, 18, 18).add(cbFiltros, 0, 227, Short.MAX_VALUE).addContainerGap()));
        painelCadastroMorador2Layout.setVerticalGroup(painelCadastroMorador2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING).add(painelCadastroMorador2Layout.createSequentialGroup().addContainerGap().add(painelCadastroMorador2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE).add(labelFiltro).add(cbFiltros, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)).addContainerGap(117, Short.MAX_VALUE)));
        painelCentral.add(painelCadastroMorador2);
        add(painelCentral, java.awt.BorderLayout.CENTER);
        painelInferior.setLayout(new java.awt.GridLayout(2, 0, 10, 0));
        painelBotoes.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.CENTER, 20, 7));
        btConfirma.setFont(new java.awt.Font("Tahoma", 1, 12));
        btConfirma.setText("0-Confirma");
        btConfirma.setMaximumSize(new java.awt.Dimension(100, 23));
        btConfirma.setMinimumSize(new java.awt.Dimension(100, 23));
        btConfirma.setPreferredSize(new java.awt.Dimension(150, 23));
        btConfirma.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btConfirmaActionPerformed(evt);
            }
        });
        painelBotoes.add(btConfirma);
        btVolta.setFont(new java.awt.Font("Tahoma", 1, 12));
        btVolta.setText("1-Voltar");
        btVolta.setMaximumSize(new java.awt.Dimension(100, 23));
        btVolta.setMinimumSize(new java.awt.Dimension(100, 23));
        btVolta.setPreferredSize(new java.awt.Dimension(150, 23));
        btVolta.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btVoltaActionPerformed(evt);
            }
        });
        painelBotoes.add(btVolta);
        btRepetir.setFont(new java.awt.Font("Tahoma", 1, 12));
        btRepetir.setText("9-Repetir");
        btRepetir.setMaximumSize(new java.awt.Dimension(100, 23));
        btRepetir.setMinimumSize(new java.awt.Dimension(100, 23));
        btRepetir.setPreferredSize(new java.awt.Dimension(150, 23));
        painelBotoes.add(btRepetir);
        painelInferior.add(painelBotoes);
        painelAviso.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.CENTER, 5, 7));
        labelAviso.setFont(new java.awt.Font("Tahoma", 1, 12));
        labelAviso.setForeground(new java.awt.Color(255, 0, 0));
        painelAviso.add(labelAviso);
        painelInferior.add(painelAviso);
        add(painelInferior, java.awt.BorderLayout.PAGE_END);
    }

    private void cbFiltrosActionPerformed(java.awt.event.ActionEvent evt) {
    }

    private void btConfirmaActionPerformed(java.awt.event.ActionEvent evt) {
        if (cbFiltros.getSelectedItem() != "") {
            if (controleFiltro != null) controleFiltro.definirFiltroPadrao(cbFiltros.getSelectedItem()); else controleMorador.definirFiltroPadrao(cbFiltros.getSelectedItem());
            labelAviso.setText("Filtro alterado para " + cbFiltros.getSelectedItem() + " com sucesso");
            mensagemSuperior.setText("Seu filtro Atual é " + cbFiltros.getSelectedItem() + ". Escolha um novo filtro");
        } else labelAviso.setText("Escolha Algum filtro");
    }

    private void btVoltaActionPerformed(java.awt.event.ActionEvent evt) {
        if (controleFiltro != null) controleFiltro.voltarConfiguracoesFiltro(this); else controleMorador.voltarConfiguracoesMorador(this);
    }

    private void limpaAviso(java.awt.event.ItemEvent evt) {
        labelAviso.setText("");
    }

    private javax.swing.JButton btConfirma;

    private javax.swing.JButton btRepetir;

    private javax.swing.JButton btVolta;

    private javax.swing.JComboBox cbFiltros;

    private javax.swing.JLabel labelAviso;

    private javax.swing.JLabel labelFiltro;

    private javax.swing.JLabel mensagemSuperior;

    private javax.swing.JPanel painelAviso;

    private javax.swing.JPanel painelBotoes;

    private javax.swing.JPanel painelCadastroMorador2;

    private javax.swing.JPanel painelCentral;

    private javax.swing.JPanel painelInferior;

    private javax.swing.JPanel painelSuperior;
}
