package newgen.presentation.sm;

import newgen.presentation.*;

/**
 *
 * @author  Administrator
 */
public class SMOrderBudgetDialog extends javax.swing.JDialog {

    /** Creates new form SMOrderBudgetDialog */
    public SMOrderBudgetDialog(String patronId, String patronLibId, java.util.ArrayList array, String amount, java.util.Vector vecBudget) {
        super();
        this.setModal(true);
        initComponents();
        this.setSize(600, 300);
        budgetPanel1.setPatronID(patronId);
        budgetPanel1.setPatLibID(patronLibId);
        budgetPanel1.setLibID(array);
        budgetPanel1.setAmount(amount);
        if (vecBudget != null && vecBudget.size() > 0) {
            System.out.println("vecBudget....latha    " + vecBudget.toString());
            for (int i = 0; i < vecBudget.size(); i += 4) {
                System.out.println("vecBudget     i    j " + i);
                java.util.Vector v = new java.util.Vector();
                v.addElement(vecBudget.elementAt(i));
                v.addElement(NewGenMain.getAppletInstance().getLibraryName(vecBudget.elementAt(i).toString()));
                v.addElement(vecBudget.elementAt(i + 1));
                v.addElement(vecBudget.elementAt(i + 2));
                v.addElement(vecBudget.elementAt(i + 3));
                budgetPanel1.defTbModel.addRow(v);
            }
        }
        newgen.presentation.NewGenMain.getAppletInstance().applyOrientation(this);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {
        jPanel2 = new javax.swing.JPanel();
        budgetPanel1 = new newgen.presentation.component.BudgetPanel();
        jPanel1 = new javax.swing.JPanel();
        bOk = new javax.swing.JButton();
        bHelp = new javax.swing.JButton();
        bCancel = new javax.swing.JButton();
        getContentPane().setLayout(new javax.swing.BoxLayout(getContentPane(), javax.swing.BoxLayout.Y_AXIS));
        addWindowListener(new java.awt.event.WindowAdapter() {

            public void windowClosing(java.awt.event.WindowEvent evt) {
                closeDialog(evt);
            }
        });
        jPanel2.setLayout(new java.awt.BorderLayout());
        jPanel2.setPreferredSize(new java.awt.Dimension(500, 500));
        jPanel2.add(budgetPanel1, java.awt.BorderLayout.CENTER);
        getContentPane().add(jPanel2);
        jPanel1.setBorder(new javax.swing.border.EtchedBorder());
        jPanel1.setPreferredSize(new java.awt.Dimension(475, 40));
        bOk.setMnemonic('o');
        bOk.setText(NewGenMain.getAppletInstance().getMyResource().getString("Ok"));
        bOk.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bOkActionPerformed(evt);
            }
        });
        jPanel1.add(bOk);
        bHelp.setIcon(new javax.swing.ImageIcon(getClass().getResource("/newgen/images/help.gif")));
        bHelp.setMnemonic('h');
        jPanel1.add(bHelp);
        bCancel.setMnemonic('c');
        bCancel.setText(newgen.presentation.NewGenMain.getAppletInstance().getMyResource().getString("Cancel"));
        bCancel.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bCancelActionPerformed(evt);
            }
        });
        jPanel1.add(bCancel);
        getContentPane().add(jPanel1);
        pack();
    }

    private void bCancelActionPerformed(java.awt.event.ActionEvent evt) {
        this.dispose();
    }

    private void bOkActionPerformed(java.awt.event.ActionEvent evt) {
        this.dispose();
    }

    /** Closes the dialog */
    private void closeDialog(java.awt.event.WindowEvent evt) {
        setVisible(false);
        dispose();
    }

    /**
     * @param args the command line arguments
     */
    public java.util.Vector getBudgets() {
        java.util.Vector vBudget = new java.util.Vector();
        for (int i = 0; i < budgetPanel1.defTbModel.getRowCount(); i++) {
            System.out.println("Latha            " + budgetPanel1.defTbModel.getRowCount());
            vBudget.addElement(budgetPanel1.defTbModel.getValueAt(i, 0).toString());
            vBudget.addElement(budgetPanel1.defTbModel.getValueAt(i, 2).toString());
            vBudget.addElement(budgetPanel1.defTbModel.getValueAt(i, 3).toString());
            vBudget.addElement(budgetPanel1.defTbModel.getValueAt(i, 4).toString());
            System.out.println("Latha  vBudget          " + vBudget.toString());
        }
        return vBudget;
    }

    private javax.swing.JButton bCancel;

    private javax.swing.JButton bHelp;

    private javax.swing.JButton bOk;

    private newgen.presentation.component.BudgetPanel budgetPanel1;

    private javax.swing.JPanel jPanel1;

    private javax.swing.JPanel jPanel2;
}
