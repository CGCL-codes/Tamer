package jaque.expressions;

import java.util.Iterator;
import jaque.*;

public abstract class SimpleQueryable<E> implements Queryable<E>, QueryableFactory {

    private final Class<E> _elementType;

    private final Expression _e;

    protected SimpleQueryable(Class<E> elementType, Expression e) {
        _elementType = elementType;
        _e = e != null ? e : Expression.constant(this);
    }

    public Class<E> getElementType() {
        return _elementType;
    }

    public Expression getExpression() {
        return _e;
    }

    public QueryableFactory getFactory() {
        return this;
    }

    public Iterator<E> iterator() {
        return iterable().iterator();
    }
}
