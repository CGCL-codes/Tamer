package cuentaBancaria;

import utilidad.vo.ItemComboVO;
import java.util.*;
import utilidad.*;
import java.awt.event.*;
import javax.swing.*;

public class BuscarCuentasBancarias extends JDialog {

    private static final ResourceBundle bundle = java.util.ResourceBundle.getBundle("cuentaBancaria/Bundle");

    public BuscarCuentasBancarias(JFrame f) {
        super(f, true);
        initComponents();
        inicializarForm();
    }

    public BuscarCuentasBancarias(JFrame f, CuentaBancariaParametros parametrosFijos) {
        super(f, true);
        initComponents();
        this.parametrosFijos = parametrosFijos;
        inicializarForm();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    private void initComponents() {
        jBBuscar = new javax.swing.JButton();
        jLTitulo = new javax.swing.JLabel();
        jSeparator2 = new javax.swing.JSeparator();
        jCkBEstado = new javax.swing.JCheckBox();
        jCkBEntidadBancaria = new javax.swing.JCheckBox();
        jTFEntidadBancarial = new utilidad.componentes.MiJTFTexto();
        jCBEstado = new utilidad.componentes.MiJComboBox();
        jCkBTitular = new javax.swing.JCheckBox();
        jTFTitular = new utilidad.componentes.MiJTFTexto();
        jCkBCCC = new javax.swing.JCheckBox();
        jTFBanco = new utilidad.componentes.MiJFTFDecimal();
        jTFSucursal = new utilidad.componentes.MiJFTFDecimal();
        jTFDigitosControl = new utilidad.componentes.MiJFTFDecimal();
        jTFNumCuenta = new utilidad.componentes.MiJFTFDecimal();
        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setName("Form");
        setResizable(false);
        getContentPane().setLayout(null);
        jBBuscar.setText("Buscar");
        jBBuscar.setName("jBBuscar");
        jBBuscar.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBBuscarActionPerformed(evt);
            }
        });
        getContentPane().add(jBBuscar);
        jBBuscar.setBounds(330, 210, 90, 23);
        jLTitulo.setFont(new java.awt.Font("Arial", 1, 28));
        jLTitulo.setText("Buscar Cuenta Bancaria");
        jLTitulo.setName("jLTitulo");
        getContentPane().add(jLTitulo);
        jLTitulo.setBounds(10, 9, 400, 40);
        jSeparator2.setName("jSeparator2");
        getContentPane().add(jSeparator2);
        jSeparator2.setBounds(0, 60, 450, 10);
        java.util.ResourceBundle bundle = java.util.ResourceBundle.getBundle("cuentaBancaria/Bundle");
        jCkBEstado.setText(bundle.getString("BuscarCuentasBancarias.jCkBEstado.text"));
        jCkBEstado.setName("jCkBEstado");
        jCkBEstado.addItemListener(new java.awt.event.ItemListener() {

            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jCkBEstadoItemStateChanged(evt);
            }
        });
        getContentPane().add(jCkBEstado);
        jCkBEstado.setBounds(20, 80, 100, 23);
        jCkBEntidadBancaria.setText(bundle.getString("BuscarCuentasBancarias.jCkBEntidadBancaria.text"));
        jCkBEntidadBancaria.setToolTipText(bundle.getString("BuscarCuentasBancarias.jCkBEntidadBancaria.toolTipText"));
        jCkBEntidadBancaria.setName("jCkBEntidadBancaria");
        jCkBEntidadBancaria.addItemListener(new java.awt.event.ItemListener() {

            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jCkBEntidadBancariaItemStateChanged(evt);
            }
        });
        getContentPane().add(jCkBEntidadBancaria);
        jCkBEntidadBancaria.setBounds(20, 140, 100, 23);
        jTFEntidadBancarial.setName("jTFEntidadBancarial");
        getContentPane().add(jTFEntidadBancarial);
        jTFEntidadBancarial.setBounds(120, 140, 290, 20);
        jCBEstado.setName("jCBEstado");
        getContentPane().add(jCBEstado);
        jCBEstado.setBounds(120, 80, 290, 20);
        jCkBTitular.setText(bundle.getString("BuscarCuentasBancarias.jCkBNombre.text"));
        jCkBTitular.setToolTipText(bundle.getString("BuscarCuentasBancarias.jCkBTitular.toolTipText"));
        jCkBTitular.setName("jCkBTitular");
        jCkBTitular.addItemListener(new java.awt.event.ItemListener() {

            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jCkBTitularItemStateChanged(evt);
            }
        });
        getContentPane().add(jCkBTitular);
        jCkBTitular.setBounds(20, 110, 100, 23);
        jTFTitular.setName("jTFTitular");
        getContentPane().add(jTFTitular);
        jTFTitular.setBounds(120, 110, 290, 20);
        jCkBCCC.setText(bundle.getString("BuscarCuentasBancarias.jCkBCCC.text"));
        jCkBCCC.setName("jCkBCCC");
        jCkBCCC.addItemListener(new java.awt.event.ItemListener() {

            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jCkBCCCItemStateChanged(evt);
            }
        });
        getContentPane().add(jCkBCCC);
        jCkBCCC.setBounds(20, 170, 100, 23);
        jTFBanco.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTFBanco.setText(bundle.getString("BuscarCuentasBancarias.miJFTFBanco.text"));
        jTFBanco.setFont(new java.awt.Font("Tahoma", 1, 12));
        jTFBanco.setName("jTFBanco");
        getContentPane().add(jTFBanco);
        jTFBanco.setBounds(120, 170, 50, 21);
        jTFSucursal.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTFSucursal.setText(bundle.getString("BuscarCuentasBancarias.jTFNumCuenta.text"));
        jTFSucursal.setFont(new java.awt.Font("Tahoma", 1, 12));
        jTFSucursal.setName("jTFSucursal");
        getContentPane().add(jTFSucursal);
        jTFSucursal.setBounds(180, 170, 50, 21);
        jTFDigitosControl.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTFDigitosControl.setText(bundle.getString("BuscarCuentasBancarias.jTFNumCuenta.text"));
        jTFDigitosControl.setFont(new java.awt.Font("Tahoma", 1, 12));
        jTFDigitosControl.setName("jTFDigitosControl");
        getContentPane().add(jTFDigitosControl);
        jTFDigitosControl.setBounds(240, 170, 30, 21);
        jTFNumCuenta.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTFNumCuenta.setText(bundle.getString("BuscarCuentasBancarias.jTFNumCuenta.text"));
        jTFNumCuenta.setFont(new java.awt.Font("Tahoma", 1, 12));
        jTFNumCuenta.setName("jTFNumCuenta");
        getContentPane().add(jTFNumCuenta);
        jTFNumCuenta.setBounds(280, 170, 130, 21);
        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();
        setBounds((screenSize.width - 447) / 2, (screenSize.height - 279) / 2, 447, 279);
    }

    private void jBBuscarActionPerformed(java.awt.event.ActionEvent evt) {
        buscar();
    }

    private void jCkBEstadoItemStateChanged(java.awt.event.ItemEvent evt) {
        ajustarVisibilidades();
    }

    private void jCkBEntidadBancariaItemStateChanged(java.awt.event.ItemEvent evt) {
        ajustarVisibilidades();
    }

    private void jCkBTitularItemStateChanged(java.awt.event.ItemEvent evt) {
        ajustarVisibilidades();
    }

    private void jCkBCCCItemStateChanged(java.awt.event.ItemEvent evt) {
        ajustarVisibilidades();
    }

    public void inicializarForm() {
        ajustarVisibilidades();
        cargarCombos();
        fijarParametros();
    }

    private void ajustarVisibilidades() {
        jCBEstado.setVisible(jCkBEstado.isSelected());
        jTFTitular.setVisible(jCkBTitular.isSelected());
        jTFEntidadBancarial.setVisible(jCkBEntidadBancaria.isSelected());
        jTFBanco.setVisible(jCkBCCC.isSelected());
        jTFSucursal.setVisible(jCkBCCC.isSelected());
        jTFDigitosControl.setVisible(jCkBCCC.isSelected());
        jTFNumCuenta.setVisible(jCkBCCC.isSelected());
    }

    private void cargarCombos() {
        cargarComboEstados();
    }

    private void cargarComboEstados() {
        ArrayList<ItemComboVO> listaItems = Util.listadoCamposLVAL("ESTADO");
        jCBEstado.cargarLista(listaItems);
        jCBEstado.setSelectedIndex(0);
    }

    private void fijarParametros() {
        if (parametrosFijos != null) {
            if (parametrosFijos.estado != null) {
                jCkBEstado.setSelected(true);
                jCkBEstado.setEnabled(false);
                jCBEstado.setSelectedNombre(parametrosFijos.estado);
                jCBEstado.setEnabled(false);
            }
        }
    }

    private void buscar() {
        this.parametroSel = new CuentaBancariaParametros();
        if (jCkBEstado.isSelected()) {
            this.parametroSel.estado = jCBEstado.getSelectedNombre();
        }
        if (jCkBTitular.isSelected()) {
            this.parametroSel.titular = jTFTitular.getText();
        }
        if (jCkBEntidadBancaria.isSelected()) {
            this.parametroSel.entidadBancaria = jTFEntidadBancarial.getText();
        }
        if (jCkBCCC.isSelected() && !jTFBanco.getText().trim().isEmpty()) {
            this.parametroSel.banco = jTFBanco.getText().trim();
        }
        if (jCkBCCC.isSelected() && !jTFSucursal.getText().trim().isEmpty()) {
            this.parametroSel.sucursal = jTFSucursal.getText().trim();
        }
        if (jCkBCCC.isSelected() && !jTFDigitosControl.getText().trim().isEmpty()) {
            this.parametroSel.digitosControl = jTFDigitosControl.getText().trim();
        }
        if (jCkBCCC.isSelected() && !jTFNumCuenta.getText().trim().isEmpty()) {
            this.parametroSel.numCuenta = jTFNumCuenta.getText().trim();
        }
        dispose();
    }

    public CuentaBancariaParametros parametroSel = null;

    public CuentaBancariaParametros parametrosFijos = null;

    @Override
    protected JRootPane createRootPane() {
        JRootPane rootPane = new JRootPane();
        Action actionEscape = new AbstractAction() {

            public void actionPerformed(ActionEvent actionEvent) {
                dispose();
            }
        };
        Action actionEnter = new AbstractAction() {

            public void actionPerformed(ActionEvent actionEvent) {
                buscar();
            }
        };
        KeyStroke strokeEscape = KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0);
        KeyStroke strokeEnter = KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0);
        rootPane.registerKeyboardAction(actionEscape, strokeEscape, JComponent.WHEN_IN_FOCUSED_WINDOW);
        rootPane.registerKeyboardAction(actionEnter, strokeEnter, JComponent.WHEN_IN_FOCUSED_WINDOW);
        return rootPane;
    }

    private javax.swing.JButton jBBuscar;

    private utilidad.componentes.MiJComboBox jCBEstado;

    private javax.swing.JCheckBox jCkBCCC;

    private javax.swing.JCheckBox jCkBEntidadBancaria;

    private javax.swing.JCheckBox jCkBEstado;

    private javax.swing.JCheckBox jCkBTitular;

    private javax.swing.JLabel jLTitulo;

    private javax.swing.JSeparator jSeparator2;

    private utilidad.componentes.MiJFTFDecimal jTFBanco;

    private utilidad.componentes.MiJFTFDecimal jTFDigitosControl;

    private utilidad.componentes.MiJTFTexto jTFEntidadBancarial;

    private utilidad.componentes.MiJFTFDecimal jTFNumCuenta;

    private utilidad.componentes.MiJFTFDecimal jTFSucursal;

    private utilidad.componentes.MiJTFTexto jTFTitular;
}
