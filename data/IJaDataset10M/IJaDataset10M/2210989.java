package org.ras.bin.checklister.tax.family;

import org.jz.xs.binding.BindingContext;
import org.jz.xs.binding.IntegerDataLink;
import org.jz.xs.binding.MemoDataLink;
import org.jz.xs.binding.StringDataLink;
import org.jz.xs.frames.JdbcPropFrame;

/**
 *
 * @author jz
 */
public class FamilyPropFrame extends JdbcPropFrame {

    /** Creates new form FamilyProp */
    public FamilyPropFrame() {
        initComponents();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    private void initComponents() {
        btnClose = new javax.swing.JButton();
        btnSave = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        tfFamilySignature = new javax.swing.JTextField();
        tfFamilyIndex = new javax.swing.JTextField();
        tfFamilyName = new javax.swing.JTextField();
        tfFamilyAuthority = new javax.swing.JTextField();
        tfFamilyYear = new javax.swing.JTextField();
        tfFamilyCitation = new javax.swing.JTextField();
        spFamilyNote = new javax.swing.JScrollPane();
        taFamilyNote = new javax.swing.JTextArea();
        lblFamilySignature = new javax.swing.JLabel();
        lblFamilyIndex = new javax.swing.JLabel();
        lblFamilyName = new javax.swing.JLabel();
        lblFamilyAuthority = new javax.swing.JLabel();
        lblFamilyYear = new javax.swing.JLabel();
        lblFamilyCitation = new javax.swing.JLabel();
        lblFamilyNote = new javax.swing.JLabel();
        setClosable(true);
        setMaximizable(true);
        setResizable(true);
        setTitle("Properties of the Family");
        btnClose.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/ras/bin/checklister/resources/bmClose.png")));
        btnClose.setText("Cancel");
        btnClose.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCloseActionPerformed(evt);
            }
        });
        btnSave.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/ras/bin/checklister/resources/bmSave.png")));
        btnSave.setText("Save");
        btnSave.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSaveActionPerformed(evt);
            }
        });
        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        tfFamilySignature.setText("jTextField1");
        tfFamilyIndex.setText("jTextField2");
        tfFamilyName.setText("jTextField3");
        tfFamilyAuthority.setText("jTextField4");
        tfFamilyYear.setText("jTextField5");
        tfFamilyCitation.setText("jTextField6");
        spFamilyNote.setVerticalScrollBarPolicy(javax.swing.ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);
        taFamilyNote.setColumns(20);
        taFamilyNote.setRows(5);
        spFamilyNote.setViewportView(taFamilyNote);
        lblFamilySignature.setText("Signature:");
        lblFamilyIndex.setText("Index:");
        lblFamilyName.setText("Name:");
        lblFamilyAuthority.setText("Authority:");
        lblFamilyYear.setText("Year:");
        lblFamilyCitation.setText("Citation:");
        lblFamilyNote.setText("Note:");
        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup().addGap(55, 55, 55).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING).addComponent(lblFamilySignature).addComponent(lblFamilyIndex).addComponent(lblFamilyName).addComponent(lblFamilyAuthority).addComponent(lblFamilyYear).addComponent(lblFamilyCitation).addComponent(lblFamilyNote)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING).addComponent(spFamilyNote, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 298, Short.MAX_VALUE).addComponent(tfFamilyName, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 298, Short.MAX_VALUE).addComponent(tfFamilyAuthority, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 298, Short.MAX_VALUE).addComponent(tfFamilyCitation, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 298, Short.MAX_VALUE).addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false).addComponent(tfFamilyIndex, javax.swing.GroupLayout.Alignment.LEADING).addComponent(tfFamilySignature, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 71, Short.MAX_VALUE)).addComponent(tfFamilyYear, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 69, javax.swing.GroupLayout.PREFERRED_SIZE)).addContainerGap()));
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(jPanel1Layout.createSequentialGroup().addContainerGap().addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(tfFamilySignature, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(lblFamilySignature)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(tfFamilyIndex, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(lblFamilyIndex)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(tfFamilyName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(lblFamilyName)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(tfFamilyAuthority, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(lblFamilyAuthority)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(tfFamilyYear, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(lblFamilyYear)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(tfFamilyCitation, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(lblFamilyCitation)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(spFamilyNote, javax.swing.GroupLayout.DEFAULT_SIZE, 126, Short.MAX_VALUE).addComponent(lblFamilyNote)).addContainerGap()));
        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup().addComponent(btnSave).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED).addComponent(btnClose)).addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)).addContainerGap()));
        layout.setVerticalGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup().addContainerGap().addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED).addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(btnClose).addComponent(btnSave)).addContainerGap()));
        pack();
    }

    private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {
        this.submitOperation();
    }

    private void btnCloseActionPerformed(java.awt.event.ActionEvent evt) {
        this.cancelOperation();
    }

    private javax.swing.JButton btnClose;

    private javax.swing.JButton btnSave;

    private javax.swing.JPanel jPanel1;

    private javax.swing.JLabel lblFamilyAuthority;

    private javax.swing.JLabel lblFamilyCitation;

    private javax.swing.JLabel lblFamilyIndex;

    private javax.swing.JLabel lblFamilyName;

    private javax.swing.JLabel lblFamilyNote;

    private javax.swing.JLabel lblFamilySignature;

    private javax.swing.JLabel lblFamilyYear;

    private javax.swing.JScrollPane spFamilyNote;

    private javax.swing.JTextArea taFamilyNote;

    private javax.swing.JTextField tfFamilyAuthority;

    private javax.swing.JTextField tfFamilyCitation;

    private javax.swing.JTextField tfFamilyIndex;

    private javax.swing.JTextField tfFamilyName;

    private javax.swing.JTextField tfFamilySignature;

    private javax.swing.JTextField tfFamilyYear;

    @Override
    public void setUpTables() {
        this.setRelationName("tax_family_list");
        this.addKeyFieldName("family_id");
        this.setEntitySignature("TFM");
    }

    @Override
    public void beforeCreate() throws Exception {
    }

    @Override
    public void makeupInterface() throws Exception {
        BindingContext bc = getBindingContext();
        bc.addDataLink(new StringDataLink(tfFamilySignature, getWorkInstance(), "family_signature"));
        bc.addDataLink(new IntegerDataLink(tfFamilyIndex, getWorkInstance(), "family_index"));
        bc.addDataLink(new StringDataLink(tfFamilyName, getWorkInstance(), "family_name"));
        bc.addDataLink(new StringDataLink(tfFamilyAuthority, getWorkInstance(), "family_authority"));
        bc.addDataLink(new StringDataLink(tfFamilyYear, getWorkInstance(), "family_year"));
        bc.addDataLink(new StringDataLink(tfFamilyCitation, getWorkInstance(), "family_citation"));
        bc.addDataLink(new MemoDataLink(taFamilyNote, getWorkInstance(), "family_note"));
    }

    @Override
    public void makePrimaryKey() throws Exception {
        this.getWorkInstance().getValueByName("family_id").setValueAsString(this.calculateNewStringKey("family_id"));
    }
}
