package tudresden.ocl20.injection.reverseeng;

/** 
  * Viewer for documentation comments associated with an 
  * {@link AbstractDescriptor}. Automatically ensures up-to-dateness wrt. the descriptor.
  *
  * @author  sz9 (Steffen Zschaler)
  * @version 0.1
  */
public class DocCommentViewer extends javax.swing.JPanel implements AbstractDescriptor.AbstractDescriptorListener {

    private AbstractDescriptor m_adModel;

    /** 
    * Creates new form DocCommentViewer 
    */
    public DocCommentViewer() {
        super();
        initComponents();
    }

    public void setModel(AbstractDescriptor adModel) {
        if (m_adModel != null) {
            m_adModel.removeModifiedListener(this);
        }
        m_adModel = adModel;
        m_adModel.addModifiedListener(this);
        m_jtaDocComment.setText(m_adModel.getDocComment());
    }

    public boolean isEditable() {
        return m_jtaDocComment.isEditable();
    }

    public void setEditable(boolean fEditable) {
        m_jtaDocComment.setEditable(fEditable);
    }

    /** This method is called from within the constructor to
   * initialize the form.
   * WARNING: Do NOT modify this code. The content of this method is
   * always regenerated by the FormEditor.
   */
    private void initComponents() {
        m_jspDocComment = new javax.swing.JScrollPane();
        m_jtaDocComment = new javax.swing.JTextArea();
        setLayout(new java.awt.GridBagLayout());
        java.awt.GridBagConstraints gridBagConstraints1;
        m_jtaDocComment.setBackground(java.awt.Color.lightGray);
        m_jtaDocComment.setEditable(false);
        m_jspDocComment.setViewportView(m_jtaDocComment);
        gridBagConstraints1 = new java.awt.GridBagConstraints();
        gridBagConstraints1.gridwidth = 0;
        gridBagConstraints1.gridheight = 0;
        gridBagConstraints1.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints1.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints1.weightx = 1.0;
        gridBagConstraints1.weighty = 1.0;
        add(m_jspDocComment, gridBagConstraints1);
    }

    private javax.swing.JScrollPane m_jspDocComment;

    private javax.swing.JTextArea m_jtaDocComment;

    public void onDescriptorModified(AbstractDescriptor.AbstractDescriptorEvent ade) {
        m_jtaDocComment.setText(m_adModel.getDocComment());
    }

    public void onFinalRemove() {
        m_adModel.removeModifiedListener(this);
    }
}
