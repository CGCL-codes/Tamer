        public static void encode(String packageName, String className, InputStream is, Writer w) throws IOException {
            ByteArrayOutputStream baos;
            OutputStream os = new GZIPOutputStream(baos = new ByteArrayOutputStream());
            byte[] buf = new byte[1024];
            while (true) {
                int numread = is.read(buf, 0, buf.length);
                if (numread == -1) break;
                os.write(buf, 0, numread);
            }
            os.close();
            buf = baos.toByteArray();
            w.append("// generated by " + Encode.class.getName() + "\n\n");
            w.append("package " + packageName + ";\n\n");
            w.append("public class " + className + " {\n");
            w.append("    public static final String data = \n");
            for (int pos = 0; pos < buf.length; ) {
                w.append("        \"");
                for (int i = 0; i < LINE_LENGTH && pos < buf.length; i++) {
                    String cs = Integer.toOctalString(buf[pos++] & 0xff);
                    while (cs.length() < 3) cs = "0" + cs;
                    w.append("\\" + cs);
                }
                w.append("\" +\n");
            }
            w.append("    \"\";\n");
            w.append("}\n");
        }
