    void layoutText() {
        float theta = (tLo + tHi) / 2;
        float cos = (float) Math.cos(theta);
        float sin = (float) Math.sin(theta);
        outerX = x + cos * rHi;
        outerY = y + sin * rHi;
        innerX = x + cos * rLo;
        innerY = y + sin * rLo;
        PFont font = getStyle().getFont("font");
        FontMetrics fm = UIUtils.getMetrics(menu.canvas.g, font.getFont(), 1);
        if (fm == null) return;
        float unitTextHeight = (float) fm.getMaxCharBounds(menu.buff.g2).getHeight();
        fontSize = (rHi - rLo) / unitTextHeight * .75f;
        fontSize = Math.max(8, fontSize);
        fm = UIUtils.getMetrics(menu.buff, font.getFont(), fontSize);
        float ascent = fm.getAscent();
        textHeight = UIUtils.getTextHeight(menu.buff, font, fontSize, getDisplayLabel(), true);
        textWidth = UIUtils.getTextWidth(menu.buff, font, fontSize, getDisplayLabel(), true);
        float outX = x + cos * (rHi + textHeight);
        float outY = y + sin * (rHi + textHeight);
        float pad = getStyle().getF("f.padX");
        rectW = textWidth + 2 * pad;
        rectH = textHeight + 2 * pad;
        rectX = outX + cos * rectW / 2 - rectW / 2;
        rectY = outY + sin * rectH / 2 - rectH / 2;
        textX = rectX + pad;
        textY = rectY + pad + ascent;
        float rMid = (rLo + rHi) / 2;
        float centerX = x + cos * rMid;
        float centerY = y + sin * rMid;
        fm = UIUtils.getMetrics(menu.buff, font.getFont(), 1);
        String s = String.valueOf(hint);
        Rectangle2D charBounds = fm.getStringBounds(s, menu.buff.g2);
        float charHeight = (float) charBounds.getHeight();
        float charWidth = (float) charBounds.getWidth();
        float charDiagonal = PApplet.sqrt(charHeight * charHeight + charWidth * charWidth);
        hintSize = (rHi - rLo) / charDiagonal;
        hintSize = Math.min(hintSize, (float) Math.sin(tHi - tLo) * rMid);
        fm = UIUtils.getMetrics(menu.buff, font.getFont(), hintSize);
        charBounds = fm.getStringBounds(s, menu.buff.g2);
        charHeight = (float) charBounds.getHeight();
        charWidth = (float) charBounds.getWidth();
        charDiagonal = PApplet.sqrt(charHeight * charHeight + charWidth * charWidth);
        float charDesc = fm.getDescent();
        hintX = centerX - charWidth / 2.0f;
        hintY = centerY - charDesc + charHeight / 2.0f;
    }
