    @Test
    public void test_blueprintDetails_Issue15_HTTP400() throws Exception {
        URL url = new URL(baseUrl + "/blueprintDetailsForTypeName/Sovereignty+Blockade+Unit+Blueprint");
        HttpURLConnection connection = (HttpURLConnection) url.openConnection();
        connection.setRequestMethod("GET");
        connection.setRequestProperty("Accept", "application/json");
        assertThat(connection.getResponseCode(), equalTo(200));
        assertThat(getResponse(connection), equalTo("{\"invBlueprintTypeDto\":{\"blueprintTypeID\":2738,\"blueprintTypeName\":\"Sovereignty Blockade Unit Blueprint\",\"productTypeID\":32250,\"productTypeName\":\"Sovereignty Blockade Unit\",\"productCategoryID\":40,\"techLevel\":1,\"productionTime\":43200,\"researchProductivityTime\":864000,\"researchMaterialTime\":864000,\"researchCopyTime\":864000,\"researchTechTime\":864000,\"productivityModifier\":8640,\"wasteFactor\":10,\"maxProductionLimit\":5,\"productVolume\":\"2500.0\",\"productPortionSize\":1,\"dumpVersion\":\"cru16\"},\"materialDtos\":[],\"manufacturingRequirementDtos\":[{\"activityID\":1,\"activityName\":\"Manufacturing\",\"requiredTypeID\":2867,\"requiredTypeName\":\"Broadcast Node\",\"requiredTypeCategoryID\":43,\"requiredTypeGroupID\":1041,\"requiredTypeGroupName\":\"Advanced Commodities\",\"requiredTypeIcon\":\"99_06\",\"damagePerJob\":\"1.0\",\"quantity\":13,\"requiredTypeVolume\":\"100.0\"},{\"activityID\":1,\"activityName\":\"Manufacturing\",\"requiredTypeID\":2868,\"requiredTypeName\":\"Integrity Response Drones\",\"requiredTypeCategoryID\":43,\"requiredTypeGroupID\":1041,\"requiredTypeGroupName\":\"Advanced Commodities\",\"requiredTypeIcon\":\"99_02\",\"damagePerJob\":\"1.0\",\"quantity\":9,\"requiredTypeVolume\":\"100.0\"},{\"activityID\":1,\"activityName\":\"Manufacturing\",\"requiredTypeID\":2869,\"requiredTypeName\":\"Nano-Factory\",\"requiredTypeCategoryID\":43,\"requiredTypeGroupID\":1041,\"requiredTypeGroupName\":\"Advanced Commodities\",\"requiredTypeIcon\":\"99_05\",\"damagePerJob\":\"1.0\",\"quantity\":19,\"requiredTypeVolume\":\"100.0\"},{\"activityID\":1,\"activityName\":\"Manufacturing\",\"requiredTypeID\":2870,\"requiredTypeName\":\"Organic Mortar Applicators\",\"requiredTypeCategoryID\":43,\"requiredTypeGroupID\":1041,\"requiredTypeGroupName\":\"Advanced Commodities\",\"requiredTypeIcon\":\"99_03\",\"damagePerJob\":\"1.0\",\"quantity\":19,\"requiredTypeVolume\":\"100.0\"},{\"activityID\":1,\"activityName\":\"Manufacturing\",\"requiredTypeID\":2871,\"requiredTypeName\":\"Recursive Computing Module\",\"requiredTypeCategoryID\":43,\"requiredTypeGroupID\":1041,\"requiredTypeGroupName\":\"Advanced Commodities\",\"requiredTypeIcon\":\"99_07\",\"damagePerJob\":\"1.0\",\"quantity\":13,\"requiredTypeVolume\":\"100.0\"},{\"activityID\":1,\"activityName\":\"Manufacturing\",\"requiredTypeID\":2872,\"requiredTypeName\":\"Self-Harmonizing Power Core\",\"requiredTypeCategoryID\":43,\"requiredTypeGroupID\":1041,\"requiredTypeGroupName\":\"Advanced Commodities\",\"requiredTypeIcon\":\"99_01\",\"damagePerJob\":\"1.0\",\"quantity\":13,\"requiredTypeVolume\":\"100.0\"},{\"activityID\":1,\"activityName\":\"Manufacturing\",\"requiredTypeID\":2875,\"requiredTypeName\":\"Sterile Conduits\",\"requiredTypeCategoryID\":43,\"requiredTypeGroupID\":1041,\"requiredTypeGroupName\":\"Advanced Commodities\",\"requiredTypeIcon\":\"99_04\",\"damagePerJob\":\"1.0\",\"quantity\":19,\"requiredTypeVolume\":\"100.0\"},{\"activityID\":1,\"activityName\":\"Manufacturing\",\"requiredTypeID\":2876,\"requiredTypeName\":\"Wetware Mainframe\",\"requiredTypeCategoryID\":43,\"requiredTypeGroupID\":1041,\"requiredTypeGroupName\":\"Advanced Commodities\",\"requiredTypeIcon\":\"99_08\",\"damagePerJob\":\"1.0\",\"quantity\":9,\"requiredTypeVolume\":\"100.0\"},{\"activityID\":1,\"activityName\":\"Manufacturing\",\"requiredTypeID\":3380,\"requiredTypeName\":\"Industry\",\"requiredTypeCategoryID\":16,\"requiredTypeGroupID\":268,\"requiredTypeGroupName\":\"Industry\",\"requiredTypeIcon\":\"50_11\",\"damagePerJob\":\"0.0\",\"quantity\":5,\"requiredTypeVolume\":\"0.01\"},{\"activityID\":1,\"activityName\":\"Manufacturing\",\"requiredTypeID\":21037,\"requiredTypeName\":\"Capital Construction Parts\",\"requiredTypeCategoryID\":17,\"requiredTypeGroupID\":873,\"requiredTypeGroupName\":\"Capital Construction Components\",\"requiredTypeIcon\":\"54_12\",\"damagePerJob\":\"1.0\",\"quantity\":5,\"requiredTypeVolume\":\"10000.0\"}],\"timeProductivityRequirementDtos\":[],\"materialProductivityRequirementDtos\":[],\"copyingRequirementDtos\":[],\"reverseEngineeringRequirementDtos\":[],\"inventionRequirementDtos\":[]}"));
        assertThat(connection.getHeaderField("Content-Type"), equalTo("application/json; charset=utf-8"));
        connection = (HttpURLConnection) url.openConnection();
        connection.setRequestMethod("GET");
        connection.setRequestProperty("Accept", "application/xml");
        assertThat(connection.getResponseCode(), equalTo(200));
        assertThat(getResponse(connection), equalTo("<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><blueprintDetailsDto><invBlueprintTypeDto><blueprintTypeID>2738</blueprintTypeID><blueprintTypeName>Sovereignty Blockade Unit Blueprint</blueprintTypeName><dumpVersion>cru16</dumpVersion><maxProductionLimit>5</maxProductionLimit><productCategoryID>40</productCategoryID><productPortionSize>1</productPortionSize><productTypeID>32250</productTypeID><productTypeName>Sovereignty Blockade Unit</productTypeName><productVolume>2500.0</productVolume><productionTime>43200</productionTime><productivityModifier>8640</productivityModifier><researchCopyTime>864000</researchCopyTime><researchMaterialTime>864000</researchMaterialTime><researchProductivityTime>864000</researchProductivityTime><researchTechTime>864000</researchTechTime><techLevel>1</techLevel><wasteFactor>10</wasteFactor></invBlueprintTypeDto><manufacturingRequirementDtos><activityID>1</activityID><activityName>Manufacturing</activityName><damagePerJob>1.0</damagePerJob><quantity>13</quantity><requiredTypeCategoryID>43</requiredTypeCategoryID><requiredTypeGroupID>1041</requiredTypeGroupID><requiredTypeGroupName>Advanced Commodities</requiredTypeGroupName><requiredTypeID>2867</requiredTypeID><requiredTypeIcon>99_06</requiredTypeIcon><requiredTypeName>Broadcast Node</requiredTypeName><requiredTypeVolume>100.0</requiredTypeVolume></manufacturingRequirementDtos><manufacturingRequirementDtos><activityID>1</activityID><activityName>Manufacturing</activityName><damagePerJob>1.0</damagePerJob><quantity>9</quantity><requiredTypeCategoryID>43</requiredTypeCategoryID><requiredTypeGroupID>1041</requiredTypeGroupID><requiredTypeGroupName>Advanced Commodities</requiredTypeGroupName><requiredTypeID>2868</requiredTypeID><requiredTypeIcon>99_02</requiredTypeIcon><requiredTypeName>Integrity Response Drones</requiredTypeName><requiredTypeVolume>100.0</requiredTypeVolume></manufacturingRequirementDtos><manufacturingRequirementDtos><activityID>1</activityID><activityName>Manufacturing</activityName><damagePerJob>1.0</damagePerJob><quantity>19</quantity><requiredTypeCategoryID>43</requiredTypeCategoryID><requiredTypeGroupID>1041</requiredTypeGroupID><requiredTypeGroupName>Advanced Commodities</requiredTypeGroupName><requiredTypeID>2869</requiredTypeID><requiredTypeIcon>99_05</requiredTypeIcon><requiredTypeName>Nano-Factory</requiredTypeName><requiredTypeVolume>100.0</requiredTypeVolume></manufacturingRequirementDtos><manufacturingRequirementDtos><activityID>1</activityID><activityName>Manufacturing</activityName><damagePerJob>1.0</damagePerJob><quantity>19</quantity><requiredTypeCategoryID>43</requiredTypeCategoryID><requiredTypeGroupID>1041</requiredTypeGroupID><requiredTypeGroupName>Advanced Commodities</requiredTypeGroupName><requiredTypeID>2870</requiredTypeID><requiredTypeIcon>99_03</requiredTypeIcon><requiredTypeName>Organic Mortar Applicators</requiredTypeName><requiredTypeVolume>100.0</requiredTypeVolume></manufacturingRequirementDtos><manufacturingRequirementDtos><activityID>1</activityID><activityName>Manufacturing</activityName><damagePerJob>1.0</damagePerJob><quantity>13</quantity><requiredTypeCategoryID>43</requiredTypeCategoryID><requiredTypeGroupID>1041</requiredTypeGroupID><requiredTypeGroupName>Advanced Commodities</requiredTypeGroupName><requiredTypeID>2871</requiredTypeID><requiredTypeIcon>99_07</requiredTypeIcon><requiredTypeName>Recursive Computing Module</requiredTypeName><requiredTypeVolume>100.0</requiredTypeVolume></manufacturingRequirementDtos><manufacturingRequirementDtos><activityID>1</activityID><activityName>Manufacturing</activityName><damagePerJob>1.0</damagePerJob><quantity>13</quantity><requiredTypeCategoryID>43</requiredTypeCategoryID><requiredTypeGroupID>1041</requiredTypeGroupID><requiredTypeGroupName>Advanced Commodities</requiredTypeGroupName><requiredTypeID>2872</requiredTypeID><requiredTypeIcon>99_01</requiredTypeIcon><requiredTypeName>Self-Harmonizing Power Core</requiredTypeName><requiredTypeVolume>100.0</requiredTypeVolume></manufacturingRequirementDtos><manufacturingRequirementDtos><activityID>1</activityID><activityName>Manufacturing</activityName><damagePerJob>1.0</damagePerJob><quantity>19</quantity><requiredTypeCategoryID>43</requiredTypeCategoryID><requiredTypeGroupID>1041</requiredTypeGroupID><requiredTypeGroupName>Advanced Commodities</requiredTypeGroupName><requiredTypeID>2875</requiredTypeID><requiredTypeIcon>99_04</requiredTypeIcon><requiredTypeName>Sterile Conduits</requiredTypeName><requiredTypeVolume>100.0</requiredTypeVolume></manufacturingRequirementDtos><manufacturingRequirementDtos><activityID>1</activityID><activityName>Manufacturing</activityName><damagePerJob>1.0</damagePerJob><quantity>9</quantity><requiredTypeCategoryID>43</requiredTypeCategoryID><requiredTypeGroupID>1041</requiredTypeGroupID><requiredTypeGroupName>Advanced Commodities</requiredTypeGroupName><requiredTypeID>2876</requiredTypeID><requiredTypeIcon>99_08</requiredTypeIcon><requiredTypeName>Wetware Mainframe</requiredTypeName><requiredTypeVolume>100.0</requiredTypeVolume></manufacturingRequirementDtos><manufacturingRequirementDtos><activityID>1</activityID><activityName>Manufacturing</activityName><damagePerJob>0.0</damagePerJob><quantity>5</quantity><requiredTypeCategoryID>16</requiredTypeCategoryID><requiredTypeGroupID>268</requiredTypeGroupID><requiredTypeGroupName>Industry</requiredTypeGroupName><requiredTypeID>3380</requiredTypeID><requiredTypeIcon>50_11</requiredTypeIcon><requiredTypeName>Industry</requiredTypeName><requiredTypeVolume>0.01</requiredTypeVolume></manufacturingRequirementDtos><manufacturingRequirementDtos><activityID>1</activityID><activityName>Manufacturing</activityName><damagePerJob>1.0</damagePerJob><quantity>5</quantity><requiredTypeCategoryID>17</requiredTypeCategoryID><requiredTypeGroupID>873</requiredTypeGroupID><requiredTypeGroupName>Capital Construction Components</requiredTypeGroupName><requiredTypeID>21037</requiredTypeID><requiredTypeIcon>54_12</requiredTypeIcon><requiredTypeName>Capital Construction Parts</requiredTypeName><requiredTypeVolume>10000.0</requiredTypeVolume></manufacturingRequirementDtos></blueprintDetailsDto>"));
        assertThat(connection.getHeaderField("Content-Type"), equalTo("application/xml; charset=utf-8"));
    }
