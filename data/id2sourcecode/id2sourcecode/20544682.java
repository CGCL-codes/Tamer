    private File createJar(File pomFile, String classes, String buildDir, Model reader) throws Exception {
        JarMojo jarMojo = new JarMojo();
        String artifactId = reader.getArtifactId();
        Properties p = new Properties();
        p.setProperty("groupId", reader.getGroupId());
        p.setProperty("artifactId", reader.getArtifactId());
        p.setProperty("version", reader.getVersion());
        File pomPropertiesDir = new File(new File(classes), "META-INF/maven/" + reader.getGroupId() + "/" + reader.getArtifactId());
        pomPropertiesDir.mkdirs();
        File pomPropertiesFile = new File(pomPropertiesDir, "pom.properties");
        OutputStream os = new FileOutputStream(pomPropertiesFile);
        p.store(os, "Generated by Maven");
        os.close();
        FileUtils.copyFile(pomFile, new File(pomPropertiesDir, "pom.xml"));
        File jarFile = new File(buildDir, artifactId + ".jar");
        jarMojo.execute(new File(classes), jarFile);
        return jarFile;
    }
