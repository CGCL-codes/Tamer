    private byte[] showAutoEpgOptions(HTTPurl urlData, HashMap headers) throws Exception {
        int index = -1;
        try {
            index = Integer.parseInt(urlData.getParameter("index"));
        } catch (Exception e) {
        }
        EpgMatch epgMatcher = (EpgMatch) (store.getEpgMatchList().get(index));
        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
        DocumentBuilder db = dbf.newDocumentBuilder();
        DOMImplementation di = db.getDOMImplementation();
        Document doc = di.createDocument("", "buttons", null);
        Element root = doc.getDocumentElement();
        root.setAttribute("back", "/servlet/KBAutoAddRes");
        Element button = null;
        Element elm = null;
        Text text = null;
        button = doc.createElement("button");
        button.setAttribute("name", "Back");
        elm = doc.createElement("url");
        text = doc.createTextNode("/servlet/KBAutoAddRes");
        elm.appendChild(text);
        button.appendChild(elm);
        root.appendChild(button);
        button = doc.createElement("button");
        String action = "/servlet/KBAutoAddRes?action=07&index=" + index;
        if (epgMatcher.isEnabled()) {
            button.setAttribute("name", "Disable");
            action += "&enabled=false";
        } else {
            button.setAttribute("name", "Enable");
            action += "&enabled=true";
        }
        elm = doc.createElement("url");
        text = doc.createTextNode(action);
        elm.appendChild(text);
        button.appendChild(elm);
        elm = doc.createElement("confirm");
        text = doc.createTextNode("false");
        elm.appendChild(text);
        button.appendChild(elm);
        root.appendChild(button);
        action = "/servlet/" + urlData.getServletClass() + "?action=08&index=" + index;
        button = doc.createElement("button");
        button.setAttribute("name", "Match Lists");
        elm = doc.createElement("url");
        text = doc.createTextNode(action);
        elm.appendChild(text);
        button.appendChild(elm);
        root.appendChild(button);
        action = "/servlet/" + urlData.getServletClass() + "?action=01&index=" + index;
        button = doc.createElement("button");
        button.setAttribute("name", "Edit Options");
        elm = doc.createElement("url");
        text = doc.createTextNode(action);
        elm.appendChild(text);
        button.appendChild(elm);
        root.appendChild(button);
        action = "/servlet/" + urlData.getServletClass() + "?action=03&index=" + index;
        button = doc.createElement("button");
        button.setAttribute("name", "Show Matches");
        elm = doc.createElement("url");
        text = doc.createTextNode(action);
        elm.appendChild(text);
        button.appendChild(elm);
        root.appendChild(button);
        action = "/servlet/" + urlData.getServletClass() + "?action=04&id=" + index + "&dir=0";
        button = doc.createElement("button");
        button.setAttribute("name", "Move Up");
        elm = doc.createElement("url");
        text = doc.createTextNode(action);
        elm.appendChild(text);
        button.appendChild(elm);
        elm = doc.createElement("confirm");
        text = doc.createTextNode("false");
        elm.appendChild(text);
        button.appendChild(elm);
        root.appendChild(button);
        action = "/servlet/" + urlData.getServletClass() + "?action=04&id=" + index + "&dir=1";
        button = doc.createElement("button");
        button.setAttribute("name", "Move Down");
        elm = doc.createElement("url");
        text = doc.createTextNode(action);
        elm.appendChild(text);
        button.appendChild(elm);
        elm = doc.createElement("confirm");
        text = doc.createTextNode("false");
        elm.appendChild(text);
        button.appendChild(elm);
        root.appendChild(button);
        action = "/servlet/KBAutoAddRes?action=05&id=" + index;
        button = doc.createElement("button");
        button.setAttribute("name", "Delete");
        elm = doc.createElement("url");
        text = doc.createTextNode(action);
        elm.appendChild(text);
        button.appendChild(elm);
        elm = doc.createElement("confirm");
        text = doc.createTextNode("true");
        elm.appendChild(text);
        button.appendChild(elm);
        root.appendChild(button);
        XSL transformer = new XSL(doc, "kb-buttons.xsl", urlData, headers);
        return transformer.doTransform();
    }
