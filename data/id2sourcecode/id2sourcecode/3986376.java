    public int remaining() {
        return writePos - readPos;
    }
