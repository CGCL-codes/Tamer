    public void _jspService(HttpServletRequest request, HttpServletResponse response) throws java.io.IOException, ServletException {
        JspFactory _jspxFactory = null;
        PageContext pageContext = null;
        HttpSession session = null;
        ServletContext application = null;
        ServletConfig config = null;
        JspWriter out = null;
        Object page = this;
        JspWriter _jspx_out = null;
        PageContext _jspx_page_context = null;
        try {
            _jspxFactory = JspFactory.getDefaultFactory();
            response.setContentType("text/html; charset=UTF-8");
            pageContext = _jspxFactory.getPageContext(this, request, response, null, true, 8192, true);
            _jspx_page_context = pageContext;
            application = pageContext.getServletContext();
            config = pageContext.getServletConfig();
            session = pageContext.getSession();
            out = pageContext.getOut();
            _jspx_out = out;
            out.write('\n');
            out.write('\n');
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            com.liferay.taglib.theme.DefineObjectsTag _jspx_th_liferay_002dtheme_005fdefineObjects_005f0 = (com.liferay.taglib.theme.DefineObjectsTag) _005fjspx_005ftagPool_005fliferay_002dtheme_005fdefineObjects_005fnobody.get(com.liferay.taglib.theme.DefineObjectsTag.class);
            _jspx_th_liferay_002dtheme_005fdefineObjects_005f0.setPageContext(_jspx_page_context);
            _jspx_th_liferay_002dtheme_005fdefineObjects_005f0.setParent(null);
            int _jspx_eval_liferay_002dtheme_005fdefineObjects_005f0 = _jspx_th_liferay_002dtheme_005fdefineObjects_005f0.doStartTag();
            if (_jspx_th_liferay_002dtheme_005fdefineObjects_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fliferay_002dtheme_005fdefineObjects_005fnobody.reuse(_jspx_th_liferay_002dtheme_005fdefineObjects_005f0);
                return;
            }
            _005fjspx_005ftagPool_005fliferay_002dtheme_005fdefineObjects_005fnobody.reuse(_jspx_th_liferay_002dtheme_005fdefineObjects_005f0);
            com.liferay.portal.theme.ThemeDisplay themeDisplay = null;
            com.liferay.portal.model.Company company = null;
            com.liferay.portal.model.Account account = null;
            com.liferay.portal.model.User user = null;
            com.liferay.portal.model.User realUser = null;
            com.liferay.portal.model.Contact contact = null;
            com.liferay.portal.model.Layout layout = null;
            java.util.List layouts = null;
            java.lang.Long plid = null;
            com.liferay.portal.model.LayoutTypePortlet layoutTypePortlet = null;
            java.lang.Long portletGroupId = null;
            com.liferay.portal.kernel.security.permission.PermissionChecker permissionChecker = null;
            java.util.Locale locale = null;
            java.util.TimeZone timeZone = null;
            com.liferay.portal.model.Theme theme = null;
            com.liferay.portal.model.ColorScheme colorScheme = null;
            com.liferay.portal.theme.PortletDisplay portletDisplay = null;
            themeDisplay = (com.liferay.portal.theme.ThemeDisplay) _jspx_page_context.findAttribute("themeDisplay");
            company = (com.liferay.portal.model.Company) _jspx_page_context.findAttribute("company");
            account = (com.liferay.portal.model.Account) _jspx_page_context.findAttribute("account");
            user = (com.liferay.portal.model.User) _jspx_page_context.findAttribute("user");
            realUser = (com.liferay.portal.model.User) _jspx_page_context.findAttribute("realUser");
            contact = (com.liferay.portal.model.Contact) _jspx_page_context.findAttribute("contact");
            layout = (com.liferay.portal.model.Layout) _jspx_page_context.findAttribute("layout");
            layouts = (java.util.List) _jspx_page_context.findAttribute("layouts");
            plid = (java.lang.Long) _jspx_page_context.findAttribute("plid");
            layoutTypePortlet = (com.liferay.portal.model.LayoutTypePortlet) _jspx_page_context.findAttribute("layoutTypePortlet");
            portletGroupId = (java.lang.Long) _jspx_page_context.findAttribute("portletGroupId");
            permissionChecker = (com.liferay.portal.kernel.security.permission.PermissionChecker) _jspx_page_context.findAttribute("permissionChecker");
            locale = (java.util.Locale) _jspx_page_context.findAttribute("locale");
            timeZone = (java.util.TimeZone) _jspx_page_context.findAttribute("timeZone");
            theme = (com.liferay.portal.model.Theme) _jspx_page_context.findAttribute("theme");
            colorScheme = (com.liferay.portal.model.ColorScheme) _jspx_page_context.findAttribute("colorScheme");
            portletDisplay = (com.liferay.portal.theme.PortletDisplay) _jspx_page_context.findAttribute("portletDisplay");
            out.write('\n');
            out.write('\n');
            out.write('\n');
            out.write('\n');
            out.write("\n");
            out.write("\n");
            out.write("<meta content=\"");
            out.print(ContentTypes.TEXT_HTML_UTF8);
            out.write("\" http-equiv=\"content-type\" />\n");
            out.write("\n");
            String refreshRate = request.getParameter("refresh_rate");
            out.write('\n');
            out.write('\n');
            org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f0 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
            _jspx_th_c_005fif_005f0.setPageContext(_jspx_page_context);
            _jspx_th_c_005fif_005f0.setParent(null);
            _jspx_th_c_005fif_005f0.setTest((refreshRate != null) && (!refreshRate.equals("0")));
            int _jspx_eval_c_005fif_005f0 = _jspx_th_c_005fif_005f0.doStartTag();
            if (_jspx_eval_c_005fif_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                    out.write("\n");
                    out.write("\t<meta content=\"");
                    out.print(refreshRate);
                    out.write(";\" http-equiv=\"Refresh\" />\n");
                    int evalDoAfterBody = _jspx_th_c_005fif_005f0.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                } while (true);
            }
            if (_jspx_th_c_005fif_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f0);
                return;
            }
            _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f0);
            out.write('\n');
            out.write('\n');
            String cacheControl = request.getParameter("cache_control");
            out.write('\n');
            out.write('\n');
            org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f1 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
            _jspx_th_c_005fif_005f1.setPageContext(_jspx_page_context);
            _jspx_th_c_005fif_005f1.setParent(null);
            _jspx_th_c_005fif_005f1.setTest((cacheControl != null) && (cacheControl.equals("0")));
            int _jspx_eval_c_005fif_005f1 = _jspx_th_c_005fif_005f1.doStartTag();
            if (_jspx_eval_c_005fif_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                    out.write("\n");
                    out.write("\t<meta content=\"no-cache\" http-equiv=\"Cache-Control\" />\n");
                    out.write("\t<meta content=\"no-cache\" http-equiv=\"Pragma\" />\n");
                    out.write("\t<meta content=\"0\" http-equiv=\"Expires\" />\n");
                    int evalDoAfterBody = _jspx_th_c_005fif_005f1.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                } while (true);
            }
            if (_jspx_th_c_005fif_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f1);
                return;
            }
            _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f1);
            out.write('\n');
            out.write('\n');
            if (_jspx_meth_liferay_002dtheme_005fmeta_002dtags_005f0(_jspx_page_context)) return;
            out.write('\n');
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("\n");
            out.write("<link rel=\"Shortcut Icon\" href=\"");
            out.print(themeDisplay.getPathThemeImages());
            out.write("/liferay.ico\" />\n");
            out.write("\n");
            out.write("<link href=\"");
            out.print(themeDisplay.getPathMain());
            out.write("/portal/css_cached?themeId=");
            out.print(themeDisplay.getTheme().getThemeId());
            out.write("&colorSchemeId=");
            out.print(themeDisplay.getColorScheme().getColorSchemeId());
            out.write("\" type=\"text/css\" rel=\"stylesheet\" />\n");
            out.write("<link href=\"");
            out.print(themeDisplay.getPathJavaScript());
            out.write("/calendar/skins/aqua/theme.css\" rel=\"stylesheet\" type=\"text/css\" />\n");
            out.write("\n");
            List portlets = null;
            if ((layout != null) && layout.getType().equals(LayoutImpl.TYPE_PORTLET)) {
                portlets = layoutTypePortlet.getPortlets();
            }
            out.write('\n');
            out.write('\n');
            org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f2 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
            _jspx_th_c_005fif_005f2.setPageContext(_jspx_page_context);
            _jspx_th_c_005fif_005f2.setParent(null);
            _jspx_th_c_005fif_005f2.setTest(portlets != null);
            int _jspx_eval_c_005fif_005f2 = _jspx_th_c_005fif_005f2.doStartTag();
            if (_jspx_eval_c_005fif_005f2 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                    out.write('\n');
                    out.write('\n');
                    out.write('	');
                    Set headerCssPortlets = CollectionFactory.getHashSet();
                    Set headerCssPaths = CollectionFactory.getHashSet();
                    for (int i = 0; i < portlets.size(); i++) {
                        Portlet portlet = (Portlet) portlets.get(i);
                        if (!headerCssPortlets.contains(portlet.getRootPortletId())) {
                            headerCssPortlets.add(portlet.getRootPortletId());
                            List headerCssList = portlet.getHeaderCss();
                            for (int j = 0; j < headerCssList.size(); j++) {
                                String headerCss = (String) headerCssList.get(j);
                                String headerCssPath = portlet.getContextPath() + headerCss;
                                if (!headerCssPaths.contains(headerCssPath)) {
                                    headerCssPaths.add(headerCssPath);
                                    out.write("\n");
                                    out.write("\n");
                                    out.write("\t\t\t\t\t<link href=\"");
                                    out.print(headerCssPath);
                                    out.write("\" rel=\"stylesheet\" type=\"text/css\" />\n");
                                    out.write("\n");
                                    out.write("\t");
                                }
                            }
                        }
                    }
                    out.write("\n");
                    out.write("\n");
                    out.write("\t<style type=\"text/css\">\n");
                    out.write("\n");
                    out.write("\t\t");
                    for (int i = 0; i < portlets.size(); i++) {
                        Portlet portlet = (Portlet) portlets.get(i);
                        PortletPreferences portletSetup = PortletPreferencesFactoryUtil.getPortletSetup(request, portlet.getPortletId(), true, true);
                        String portletSetupCss = portletSetup.getValue("portlet-setup-css", StringPool.BLANK);
                        out.write("\n");
                        out.write("\n");
                        out.write("\t\t\t");
                        org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f3 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
                        _jspx_th_c_005fif_005f3.setPageContext(_jspx_page_context);
                        _jspx_th_c_005fif_005f3.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f2);
                        _jspx_th_c_005fif_005f3.setTest(Validator.isNotNull(portletSetupCss));
                        int _jspx_eval_c_005fif_005f3 = _jspx_th_c_005fif_005f3.doStartTag();
                        if (_jspx_eval_c_005fif_005f3 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                            do {
                                out.write("\n");
                                out.write("\n");
                                out.write("\t\t\t\t");
                                try {
                                    out.write("\n");
                                    out.write("\n");
                                    out.write("\t\t\t\t\t");
                                    out.write('\n');
                                    out.write('\n');
                                    JSONObject jsonObj = PortletSetupUtil.cssToJSON(portletSetup, portletSetupCss);
                                    List finalCSS = new ArrayList();
                                    JSONObject bgData = jsonObj.getJSONObject("bgData");
                                    String bgColor = bgData.getString("backgroundColor");
                                    String bgImage = bgData.getString("backgroundImage");
                                    JSONObject bgPos = bgData.getJSONObject("backgroundPosition");
                                    JSONObject bgPosLeft = bgPos.getJSONObject(_LEFT_KEY);
                                    JSONObject bgPosTop = bgPos.getJSONObject(_TOP_KEY);
                                    String bgPosLeftValue = bgPosLeft.getString(_VALUE_KEY) + bgPosLeft.getString(_UNIT_KEY);
                                    String bgPosTopValue = bgPosTop.getString(_VALUE_KEY) + bgPosTop.getString(_UNIT_KEY);
                                    String bgPosValue = bgPosLeftValue + " " + bgPosTopValue;
                                    boolean useBgImage = bgData.getBoolean("useBgImage");
                                    if (Validator.isNotNull(bgColor)) {
                                        finalCSS.add("background-color: " + bgColor);
                                    }
                                    if (Validator.isNotNull(bgImage)) {
                                        finalCSS.add("background-image: url(" + bgImage + ")");
                                    }
                                    if (useBgImage) {
                                        finalCSS.add("background-position: " + bgPosValue);
                                    }
                                    JSONObject borderData = jsonObj.getJSONObject("borderData");
                                    JSONObject borderWidth = borderData.getJSONObject("borderWidth");
                                    JSONObject borderStyle = borderData.getJSONObject("borderStyle");
                                    JSONObject borderColor = borderData.getJSONObject("borderColor");
                                    boolean ufaBorderWidth = borderWidth.getBoolean(_SAME_FOR_ALL_KEY);
                                    boolean ufaBorderStyle = borderStyle.getBoolean(_SAME_FOR_ALL_KEY);
                                    boolean ufaBorderColor = borderColor.getBoolean(_SAME_FOR_ALL_KEY);
                                    JSONObject borderWidthTop = borderWidth.getJSONObject(_TOP_KEY);
                                    JSONObject borderWidthRight = borderWidth.getJSONObject(_RIGHT_KEY);
                                    JSONObject borderWidthBottom = borderWidth.getJSONObject(_BOTTOM_KEY);
                                    JSONObject borderWidthLeft = borderWidth.getJSONObject(_LEFT_KEY);
                                    String borderTopWidthValue = borderWidthTop.getString(_VALUE_KEY) + borderWidthTop.getString(_UNIT_KEY);
                                    String borderRightWidthValue = borderWidthRight.getString(_VALUE_KEY) + borderWidthRight.getString(_UNIT_KEY);
                                    String borderBottomWidthValue = borderWidthBottom.getString(_VALUE_KEY) + borderWidthBottom.getString(_UNIT_KEY);
                                    String borderLeftWidthValue = borderWidthLeft.getString(_VALUE_KEY) + borderWidthLeft.getString(_UNIT_KEY);
                                    String borderTopStyleValue = borderStyle.getString(_TOP_KEY);
                                    String borderRightStyleValue = borderStyle.getString(_RIGHT_KEY);
                                    String borderBottomStyleValue = borderStyle.getString(_BOTTOM_KEY);
                                    String borderLeftStyleValue = borderStyle.getString(_LEFT_KEY);
                                    String borderTopColorValue = borderColor.getString(_TOP_KEY);
                                    String borderRightColorValue = borderColor.getString(_RIGHT_KEY);
                                    String borderBottomColorValue = borderColor.getString(_BOTTOM_KEY);
                                    String borderLeftColorValue = borderColor.getString(_LEFT_KEY);
                                    if (ufaBorderWidth) {
                                        if (!_unitSet.contains(borderTopWidthValue)) {
                                            finalCSS.add("border-width: " + borderTopWidthValue);
                                        }
                                    } else {
                                        if (!_unitSet.contains(borderTopWidthValue)) {
                                            finalCSS.add("border-top-width: " + borderTopWidthValue);
                                        }
                                        if (!_unitSet.contains(borderRightWidthValue)) {
                                            finalCSS.add("border-right-width: " + borderRightWidthValue);
                                        }
                                        if (!_unitSet.contains(borderBottomWidthValue)) {
                                            finalCSS.add("border-bottom-width: " + borderBottomWidthValue);
                                        }
                                        if (!_unitSet.contains(borderLeftWidthValue)) {
                                            finalCSS.add("border-left-width: " + borderLeftWidthValue);
                                        }
                                    }
                                    if (ufaBorderStyle && !_unitSet.contains(borderTopWidthValue)) {
                                        finalCSS.add("border-style: " + borderTopStyleValue);
                                    } else {
                                        if (Validator.isNotNull(borderTopStyleValue)) {
                                            finalCSS.add("border-top-style: " + borderTopStyleValue);
                                        }
                                        if (Validator.isNotNull(borderRightStyleValue)) {
                                            finalCSS.add("border-right-style: " + borderRightStyleValue);
                                        }
                                        if (Validator.isNotNull(borderBottomStyleValue)) {
                                            finalCSS.add("border-bottom-style: " + borderBottomStyleValue);
                                        }
                                        if (Validator.isNotNull(borderLeftStyleValue)) {
                                            finalCSS.add("border-left-style: " + borderLeftStyleValue);
                                        }
                                    }
                                    if (ufaBorderColor) {
                                        if (Validator.isNotNull(borderTopColorValue)) {
                                            finalCSS.add("border-color: " + borderTopColorValue);
                                        }
                                    } else {
                                        if (Validator.isNotNull(borderTopColorValue)) {
                                            finalCSS.add("border-top-color: " + borderTopColorValue);
                                        }
                                        if (Validator.isNotNull(borderRightColorValue)) {
                                            finalCSS.add("border-right-color: " + borderRightColorValue);
                                        }
                                        if (Validator.isNotNull(borderBottomColorValue)) {
                                            finalCSS.add("border-bottom-color: " + borderBottomColorValue);
                                        }
                                        if (Validator.isNotNull(borderLeftColorValue)) {
                                            finalCSS.add("border-left-color: " + borderLeftColorValue);
                                        }
                                    }
                                    JSONObject spacingData = jsonObj.getJSONObject("spacingData");
                                    JSONObject margin = spacingData.getJSONObject("margin");
                                    JSONObject padding = spacingData.getJSONObject("padding");
                                    boolean ufaMargin = margin.getBoolean(_SAME_FOR_ALL_KEY);
                                    boolean ufaPadding = padding.getBoolean(_SAME_FOR_ALL_KEY);
                                    JSONObject marginTop = margin.getJSONObject(_TOP_KEY);
                                    JSONObject marginRight = margin.getJSONObject(_RIGHT_KEY);
                                    JSONObject marginBottom = margin.getJSONObject(_BOTTOM_KEY);
                                    JSONObject marginLeft = margin.getJSONObject(_LEFT_KEY);
                                    String marginTopValue = marginTop.getString(_VALUE_KEY) + marginTop.getString(_UNIT_KEY);
                                    String marginRightValue = marginRight.getString(_VALUE_KEY) + marginRight.getString(_UNIT_KEY);
                                    String marginBottomValue = marginBottom.getString(_VALUE_KEY) + marginBottom.getString(_UNIT_KEY);
                                    String marginLeftValue = marginLeft.getString(_VALUE_KEY) + marginLeft.getString(_UNIT_KEY);
                                    if (ufaMargin) {
                                        if (!_unitSet.contains(marginTopValue)) {
                                            finalCSS.add("margin: " + marginTopValue);
                                        }
                                    } else {
                                        if (!_unitSet.contains(marginTopValue)) {
                                            finalCSS.add("margin-top: " + marginTopValue);
                                        }
                                        if (!_unitSet.contains(marginRightValue)) {
                                            finalCSS.add("margin-right: " + marginRightValue);
                                        }
                                        if (!_unitSet.contains(marginBottomValue)) {
                                            finalCSS.add("margin-bottom: " + marginBottomValue);
                                        }
                                        if (!_unitSet.contains(marginLeftValue)) {
                                            finalCSS.add("margin-left: " + marginLeftValue);
                                        }
                                    }
                                    JSONObject paddingTop = padding.getJSONObject(_TOP_KEY);
                                    JSONObject paddingRight = padding.getJSONObject(_RIGHT_KEY);
                                    JSONObject paddingBottom = padding.getJSONObject(_BOTTOM_KEY);
                                    JSONObject paddingLeft = padding.getJSONObject(_LEFT_KEY);
                                    String paddingTopValue = paddingTop.getString(_VALUE_KEY) + paddingTop.getString(_UNIT_KEY);
                                    String paddingRightValue = paddingRight.getString(_VALUE_KEY) + paddingRight.getString(_UNIT_KEY);
                                    String paddingBottomValue = paddingBottom.getString(_VALUE_KEY) + paddingBottom.getString(_UNIT_KEY);
                                    String paddingLeftValue = paddingLeft.getString(_VALUE_KEY) + paddingLeft.getString(_UNIT_KEY);
                                    if (ufaPadding) {
                                        if (!_unitSet.contains(paddingTopValue)) {
                                            finalCSS.add("padding: " + paddingTopValue);
                                        }
                                    } else {
                                        if (!_unitSet.contains(paddingTopValue)) {
                                            finalCSS.add("padding-top: " + paddingTopValue);
                                        }
                                        if (!_unitSet.contains(paddingRightValue)) {
                                            finalCSS.add("padding-right: " + paddingRightValue);
                                        }
                                        if (!_unitSet.contains(paddingBottomValue)) {
                                            finalCSS.add("padding-bottom: " + paddingBottomValue);
                                        }
                                        if (!_unitSet.contains(paddingLeftValue)) {
                                            finalCSS.add("padding-left: " + paddingLeftValue);
                                        }
                                    }
                                    JSONObject textData = jsonObj.getJSONObject("textData");
                                    String color = textData.getString("color");
                                    String fontFamily = textData.getString("fontFamily");
                                    String fontSize = textData.getString("fontSize");
                                    String fontStyle = textData.getString("fontStyle");
                                    String fontWeight = textData.getString("fontWeight");
                                    String letterSpacing = textData.getString("letterSpacing");
                                    String lineHeight = textData.getString("lineHeight");
                                    String textAlign = textData.getString("textAlign");
                                    String textDecoration = textData.getString("textDecoration");
                                    String wordSpacing = textData.getString("wordSpacing");
                                    if (Validator.isNotNull(color)) {
                                        finalCSS.add("color: " + color);
                                    }
                                    if (Validator.isNotNull(fontFamily)) {
                                        finalCSS.add("font-family: '" + fontFamily + "'");
                                    }
                                    if (Validator.isNotNull(fontSize)) {
                                        finalCSS.add("font-size: " + fontSize);
                                    }
                                    if (Validator.isNotNull(fontStyle)) {
                                        finalCSS.add("font-style: " + fontStyle);
                                    }
                                    if (Validator.isNotNull(fontWeight)) {
                                        finalCSS.add("font-weight: " + fontWeight);
                                    }
                                    if (Validator.isNotNull(letterSpacing)) {
                                        finalCSS.add("letter-spacing: " + letterSpacing);
                                    }
                                    if (Validator.isNotNull(lineHeight)) {
                                        finalCSS.add("line-height: " + lineHeight);
                                    }
                                    if (Validator.isNotNull(textAlign)) {
                                        finalCSS.add("text-align: " + textAlign);
                                    }
                                    if (Validator.isNotNull(textDecoration)) {
                                        finalCSS.add("text-decoration: " + textDecoration);
                                    }
                                    if (Validator.isNotNull(wordSpacing)) {
                                        finalCSS.add("word-spacing: " + wordSpacing);
                                    }
                                    JSONObject advancedData = jsonObj.getJSONObject("advancedData");
                                    String customCSS = advancedData.getString("customCSS");
                                    JSONObject portletData = jsonObj.getJSONObject("portletData");
                                    boolean showBorders = portletData.getBoolean("showBorders");
                                    out.print("#p_p_id_" + portlet.getPortletId() + "_");
                                    if (showBorders) {
                                        out.print(" .portlet");
                                    }
                                    out.print(" {\n");
                                    String[] finalCSSArray = (String[]) finalCSS.toArray(new String[0]);
                                    String finalCSSString = StringUtil.merge(finalCSSArray, ";\n");
                                    out.print(finalCSSString);
                                    out.print("\n}\n");
                                    if (Validator.isNotNull(customCSS)) {
                                        out.print(customCSS);
                                    }
                                    out.write('\n');
                                    out.write('\n');
                                    out.write("\n");
                                    out.write("\n");
                                    out.write("\t\t\t\t");
                                } catch (Exception e) {
                                    if (_log.isWarnEnabled()) {
                                        _log.warn(e.getMessage());
                                    }
                                }
                                out.write("\n");
                                out.write("\n");
                                out.write("\t\t\t");
                                int evalDoAfterBody = _jspx_th_c_005fif_005f3.doAfterBody();
                                if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                            } while (true);
                        }
                        if (_jspx_th_c_005fif_005f3.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                            _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f3);
                            return;
                        }
                        _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f3);
                        out.write("\n");
                        out.write("\n");
                        out.write("\t\t");
                    }
                    out.write("\n");
                    out.write("\n");
                    out.write("\t</style>\n");
                    int evalDoAfterBody = _jspx_th_c_005fif_005f2.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                } while (true);
            }
            if (_jspx_th_c_005fif_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f2);
                return;
            }
            _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f2);
            out.write('\n');
            out.write('\n');
            org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f4 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
            _jspx_th_c_005fif_005f4.setPageContext(_jspx_page_context);
            _jspx_th_c_005fif_005f4.setParent(null);
            _jspx_th_c_005fif_005f4.setTest((layout != null) && Validator.isNotNull(layout.getCssText()));
            int _jspx_eval_c_005fif_005f4 = _jspx_th_c_005fif_005f4.doStartTag();
            if (_jspx_eval_c_005fif_005f4 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                    out.write("\n");
                    out.write("\t<style type=\"text/css\">\n");
                    out.write("\t\t");
                    out.print(layout.getCssText());
                    out.write("\n");
                    out.write("\t</style>\n");
                    int evalDoAfterBody = _jspx_th_c_005fif_005f4.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                } while (true);
            }
            if (_jspx_th_c_005fif_005f4.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f4);
                return;
            }
            _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f4);
            out.write('\n');
            out.write('\n');
            out.write("\n");
            out.write("\n");
            out.write("<script type=\"text/javascript\">\n");
            out.write("\tvar themeDisplay = {\n");
            out.write("\t\tgetCompanyId: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(themeDisplay.getCompanyId());
            out.write("\";\n");
            out.write("\t\t},\n");
            out.write("\t\tgetDoAsUserIdEncoded: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(themeDisplay.getDoAsUserId());
            out.write("\";\n");
            out.write("\t\t},\n");
            out.write("\t\tgetPlid: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(themeDisplay.getPlid());
            out.write("\";\n");
            out.write("\t\t},\n");
            out.write("\t\tgetGroupId: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(themeDisplay.getPortletGroupId());
            out.write("\";\n");
            out.write("\t\t},\n");
            out.write("\t\tgetUserId: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(themeDisplay.getUserId());
            out.write("\";\n");
            out.write("\t\t},\n");
            out.write("\n");
            out.write("\t\t");
            org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f5 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
            _jspx_th_c_005fif_005f5.setPageContext(_jspx_page_context);
            _jspx_th_c_005fif_005f5.setParent(null);
            _jspx_th_c_005fif_005f5.setTest(layout != null);
            int _jspx_eval_c_005fif_005f5 = _jspx_th_c_005fif_005f5.doStartTag();
            if (_jspx_eval_c_005fif_005f5 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                    out.write("\n");
                    out.write("\t\t\tgetLayoutId: function() {\n");
                    out.write("\t\t\t\treturn \"");
                    out.print(layout.getLayoutId());
                    out.write("\";\n");
                    out.write("\t\t\t},\n");
                    out.write("\t\t\tisPrivateLayout: function() {\n");
                    out.write("\t\t\t\treturn \"");
                    out.print(layout.isPrivateLayout());
                    out.write("\";\n");
                    out.write("\t\t\t},\n");
                    out.write("\t\t\tgetParentLayoutId: function() {\n");
                    out.write("\t\t\t\treturn \"");
                    out.print(layout.getParentLayoutId());
                    out.write("\";\n");
                    out.write("\t\t\t},\n");
                    out.write("\t\t");
                    int evalDoAfterBody = _jspx_th_c_005fif_005f5.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                } while (true);
            }
            if (_jspx_th_c_005fif_005f5.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f5);
                return;
            }
            _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f5);
            out.write("\n");
            out.write("\n");
            out.write("\t\tgetLanguageId: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(LanguageUtil.getLanguageId(request));
            out.write("\";\n");
            out.write("\t\t},\n");
            out.write("\t\tisFreeformLayout: function() {\n");
            out.write("\t\t\treturn ");
            out.print(themeDisplay.isFreeformLayout());
            out.write(";\n");
            out.write("\t\t},\n");
            out.write("\t\tisSignedIn: function() {\n");
            out.write("\t\t\treturn ");
            out.print(themeDisplay.isSignedIn());
            out.write(";\n");
            out.write("\t\t},\n");
            out.write("\t\tisStateExclusive: function() {\n");
            out.write("\t\t\treturn ");
            out.print(themeDisplay.isStateExclusive());
            out.write(";\n");
            out.write("\t\t},\n");
            out.write("\t\tisStateMaximized: function() {\n");
            out.write("\t\t\treturn ");
            out.print(themeDisplay.isStateMaximized());
            out.write(";\n");
            out.write("\t\t},\n");
            out.write("\t\tisStatePopUp: function() {\n");
            out.write("\t\t\treturn ");
            out.print(themeDisplay.isStatePopUp());
            out.write(";\n");
            out.write("\t\t},\n");
            out.write("\t\tgetPathContext: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(themeDisplay.getPathContext());
            out.write("\";\n");
            out.write("\t\t},\n");
            out.write("\t\tgetPathMain: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(themeDisplay.getPathMain());
            out.write("\";\n");
            out.write("\t\t},\n");
            out.write("\t\tgetPathThemeImages: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(themeDisplay.getPathThemeImages());
            out.write("\";\n");
            out.write("\t\t},\n");
            out.write("\t\tgetPathThemeRoot: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(themeDisplay.getPathThemeRoot());
            out.write("\";\n");
            out.write("\t\t},\n");
            out.write("\t\tgetURLHome: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(themeDisplay.getURLHome());
            out.write("\";\n");
            out.write("\t\t},\n");
            out.write("\t\tgetSessionId: function() {\n");
            out.write("\t\t\treturn \"");
            out.print(session.getId());
            out.write("\";\n");
            out.write("\t\t}\n");
            out.write("\t};\n");
            out.write("\n");
            out.write("\tvar mainPath = themeDisplay.getPathMain();\n");
            out.write("</script>\n");
            out.write("\n");
            org.apache.taglibs.standard.tag.common.core.ChooseTag _jspx_th_c_005fchoose_005f0 = (org.apache.taglibs.standard.tag.common.core.ChooseTag) _005fjspx_005ftagPool_005fc_005fchoose.get(org.apache.taglibs.standard.tag.common.core.ChooseTag.class);
            _jspx_th_c_005fchoose_005f0.setPageContext(_jspx_page_context);
            _jspx_th_c_005fchoose_005f0.setParent(null);
            int _jspx_eval_c_005fchoose_005f0 = _jspx_th_c_005fchoose_005f0.doStartTag();
            if (_jspx_eval_c_005fchoose_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                    out.write('\n');
                    out.write('	');
                    org.apache.taglibs.standard.tag.rt.core.WhenTag _jspx_th_c_005fwhen_005f0 = (org.apache.taglibs.standard.tag.rt.core.WhenTag) _005fjspx_005ftagPool_005fc_005fwhen_005ftest.get(org.apache.taglibs.standard.tag.rt.core.WhenTag.class);
                    _jspx_th_c_005fwhen_005f0.setPageContext(_jspx_page_context);
                    _jspx_th_c_005fwhen_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fchoose_005f0);
                    _jspx_th_c_005fwhen_005f0.setTest(ParamUtil.getBoolean(request, "js_fast_load", GetterUtil.getBoolean(PropsUtil.get(PropsUtil.JAVASCRIPT_FAST_LOAD))));
                    int _jspx_eval_c_005fwhen_005f0 = _jspx_th_c_005fwhen_005f0.doStartTag();
                    if (_jspx_eval_c_005fwhen_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                        do {
                            out.write("\n");
                            out.write("\n");
                            out.write("\t\t");
                            out.write("\n");
                            out.write("\n");
                            out.write("\t\t<script src=\"");
                            out.print(themeDisplay.getPathJavaScript());
                            out.write("/everything.js\" type=\"text/javascript\"></script>\n");
                            out.write("\t");
                            int evalDoAfterBody = _jspx_th_c_005fwhen_005f0.doAfterBody();
                            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                        } while (true);
                    }
                    if (_jspx_th_c_005fwhen_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                        _005fjspx_005ftagPool_005fc_005fwhen_005ftest.reuse(_jspx_th_c_005fwhen_005f0);
                        return;
                    }
                    _005fjspx_005ftagPool_005fc_005fwhen_005ftest.reuse(_jspx_th_c_005fwhen_005f0);
                    out.write('\n');
                    out.write('	');
                    org.apache.taglibs.standard.tag.common.core.OtherwiseTag _jspx_th_c_005fotherwise_005f0 = (org.apache.taglibs.standard.tag.common.core.OtherwiseTag) _005fjspx_005ftagPool_005fc_005fotherwise.get(org.apache.taglibs.standard.tag.common.core.OtherwiseTag.class);
                    _jspx_th_c_005fotherwise_005f0.setPageContext(_jspx_page_context);
                    _jspx_th_c_005fotherwise_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fchoose_005f0);
                    int _jspx_eval_c_005fotherwise_005f0 = _jspx_th_c_005fotherwise_005f0.doStartTag();
                    if (_jspx_eval_c_005fotherwise_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                        do {
                            out.write("\n");
                            out.write("\n");
                            out.write("\t\t");
                            String[] javaScriptFiles = PropsUtil.getArray(PropsUtil.JAVASCRIPT_FILES);
                            for (int i = 0; i < javaScriptFiles.length; i++) {
                                out.write("\n");
                                out.write("\n");
                                out.write("\t\t\t<script src=\"");
                                out.print(themeDisplay.getPathJavaScript());
                                out.write('/');
                                out.print(javaScriptFiles[i]);
                                out.write("\" type=\"text/javascript\"></script>\n");
                                out.write("\n");
                                out.write("\t\t");
                            }
                            out.write('\n');
                            out.write('\n');
                            out.write('	');
                            int evalDoAfterBody = _jspx_th_c_005fotherwise_005f0.doAfterBody();
                            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                        } while (true);
                    }
                    if (_jspx_th_c_005fotherwise_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                        _005fjspx_005ftagPool_005fc_005fotherwise.reuse(_jspx_th_c_005fotherwise_005f0);
                        return;
                    }
                    _005fjspx_005ftagPool_005fc_005fotherwise.reuse(_jspx_th_c_005fotherwise_005f0);
                    out.write('\n');
                    int evalDoAfterBody = _jspx_th_c_005fchoose_005f0.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                } while (true);
            }
            if (_jspx_th_c_005fchoose_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fc_005fchoose.reuse(_jspx_th_c_005fchoose_005f0);
                return;
            }
            _005fjspx_005ftagPool_005fc_005fchoose.reuse(_jspx_th_c_005fchoose_005f0);
            out.write('\n');
            out.write('\n');
            org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f6 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
            _jspx_th_c_005fif_005f6.setPageContext(_jspx_page_context);
            _jspx_th_c_005fif_005f6.setParent(null);
            _jspx_th_c_005fif_005f6.setTest(GetterUtil.getBoolean(PropsUtil.get(PropsUtil.JAVASCRIPT_LOG_ENABLED)));
            int _jspx_eval_c_005fif_005f6 = _jspx_th_c_005fif_005f6.doStartTag();
            if (_jspx_eval_c_005fif_005f6 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                    out.write("\n");
                    out.write("\t<script src=\"");
                    out.print(themeDisplay.getPathJavaScript());
                    out.write("/firebug/firebug.js\" type=\"text/javascript\"></script>\n");
                    int evalDoAfterBody = _jspx_th_c_005fif_005f6.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                } while (true);
            }
            if (_jspx_th_c_005fif_005f6.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f6);
                return;
            }
            _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f6);
            out.write("\n");
            out.write("\n");
            out.write("<script type=\"text/javascript\" src=\"");
            out.print(themeDisplay.getPathMain());
            out.write("/portal/javascript_cached?languageId=");
            out.print(themeDisplay.getLocale().toString());
            out.write("&themeId=");
            out.print(themeDisplay.getThemeId());
            out.write("&colorSchemeId=");
            out.print(themeDisplay.getColorSchemeId());
            out.write("\"></script>\n");
            out.write("\n");
            out.write("<script type=\"text/javascript\">\n");
            out.write("\n");
            out.write("\t");
            String currentURL = PortalUtil.getCurrentURL(request);
            out.write("\n");
            out.write("\n");
            out.write("\tfunction addPortlet(plid, portletId, doAsUserId) {\n");
            out.write("\t\tvar refreshPortletList = getRefreshPortletList();\n");
            out.write("\n");
            out.write("\t\tif (refreshPortletList[\"_\" + portletId]) {\n");
            out.write("\t\t\tself.location = \"");
            out.print(themeDisplay.getPathMain());
            out.write("/portal/update_layout?p_l_id=\" + plid + \"&p_p_id=\" + portletId + \"&doAsUserId=\" + doAsUserId + \"&");
            out.print(Constants.CMD);
            out.write('=');
            out.print(Constants.ADD);
            out.write("&referer=");
            out.print(HttpUtil.encodeURL(currentURL));
            out.write("&refresh=1\";\n");
            out.write("\t\t}\n");
            out.write("\t\telse {\n");
            out.write("\t\t\tvar loadingDiv = document.createElement(\"div\");\n");
            out.write("\t\t\tvar container = document.getElementById(\"layout-column_column-1\");\n");
            out.write("\n");
            out.write("\t\t\tif (container == null) {\n");
            out.write("\t\t\t\treturn;\n");
            out.write("\t\t\t}\n");
            out.write("\n");
            out.write("\t\t\tloadingDiv.className = \"loading-animation\";\n");
            out.write("\n");
            out.write("\t\t\tcontainer.appendChild(loadingDiv);\n");
            out.write("\n");
            out.write("\t\t\tvar queryString = \"");
            out.print(themeDisplay.getPathMain());
            out.write("/portal/update_layout?p_l_id=\" + plid + \"&p_p_id=\" + portletId + \"&doAsUserId=\" + doAsUserId + \"&");
            out.print(Constants.CMD);
            out.write('=');
            out.print(Constants.ADD);
            out.write("&currentURL=");
            out.print(HttpUtil.encodeURL(currentURL));
            out.write("\";\n");
            out.write("\n");
            out.write("\t\t\taddPortletHTML(queryString, loadingDiv);\n");
            out.write("\t\t}\n");
            out.write("\t}\n");
            out.write("\n");
            out.write("\tfunction showLayoutTemplates() {\n");
            out.write("\t\tvar message = Liferay.Popup(\n");
            out.write("\t\t\t{\n");
            out.write("\t\t\t\twidth: 700,\n");
            out.write("\t\t\t\tmodal: true,\n");
            out.write("\t\t\t\ttitle: \"");
            out.print(UnicodeLanguageUtil.get(pageContext, "layout"));
            out.write("\"\n");
            out.write("\t\t\t});\n");
            out.write("\n");
            out.write("\t\turl = \"");
            out.print(themeDisplay.getPathMain());
            out.write("/layout_configuration/templates?p_l_id=");
            out.print(plid);
            out.write("&doAsUserId=");
            out.print(themeDisplay.getDoAsUserId());
            out.write("\";\n");
            out.write("\n");
            out.write("\t\tAjaxUtil.update(url, message, {onComplete: function(){Liferay.Popup.center()}});\n");
            out.write("\t}\n");
            out.write("\n");
            out.write("\t_$J(document).ready(\n");
            out.write("\t\tfunction() {\n");
            out.write("\t\t\tLiferay.Util.addInputType();\n");
            out.write("\t\t\tLiferay.Util.addInputFocus();\n");
            out.write("\t\t}\n");
            out.write("\t);\n");
            out.write("\n");
            out.write("\tLiferay.Portlet.ready(\n");
            out.write("\t\tfunction(portletId, jQueryObj) {\n");
            out.write("\t\t\tLiferay.Util.addInputType(portletId, jQueryObj);\n");
            out.write("\t\t}\n");
            out.write("\t);\n");
            out.write("\n");
            out.write("\t");
            org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f7 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
            _jspx_th_c_005fif_005f7.setPageContext(_jspx_page_context);
            _jspx_th_c_005fif_005f7.setParent(null);
            _jspx_th_c_005fif_005f7.setTest(!themeDisplay.isStatePopUp());
            int _jspx_eval_c_005fif_005f7 = _jspx_th_c_005fif_005f7.doStartTag();
            if (_jspx_eval_c_005fif_005f7 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                    out.write('\n');
                    out.write('	');
                    out.write('	');
                    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f8 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
                    _jspx_th_c_005fif_005f8.setPageContext(_jspx_page_context);
                    _jspx_th_c_005fif_005f8.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f7);
                    _jspx_th_c_005fif_005f8.setTest(MessagingUtil.isJabberEnabled() && themeDisplay.isSignedIn());
                    int _jspx_eval_c_005fif_005f8 = _jspx_th_c_005fif_005f8.doStartTag();
                    if (_jspx_eval_c_005fif_005f8 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                        do {
                            out.write("\n");
                            out.write("\t\t\t_$J(document).ready(\n");
                            out.write("\t\t\t\tfunction() {\n");
                            out.write("\t\t\t\t\tMessaging.init(\"");
                            out.print(request.getRemoteUser());
                            out.write("\");\n");
                            out.write("\t\t\t\t}\n");
                            out.write("\t\t\t);\n");
                            out.write("\t\t");
                            int evalDoAfterBody = _jspx_th_c_005fif_005f8.doAfterBody();
                            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                        } while (true);
                    }
                    if (_jspx_th_c_005fif_005f8.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                        _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f8);
                        return;
                    }
                    _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f8);
                    out.write("\n");
                    out.write("\n");
                    out.write("\t\t");
                    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f9 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
                    _jspx_th_c_005fif_005f9.setPageContext(_jspx_page_context);
                    _jspx_th_c_005fif_005f9.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f7);
                    _jspx_th_c_005fif_005f9.setTest(GetterUtil.getBoolean(PropsUtil.get(PropsUtil.REVERSE_AJAX_ENABLED)) && themeDisplay.isSignedIn());
                    int _jspx_eval_c_005fif_005f9 = _jspx_th_c_005fif_005f9.doStartTag();
                    if (_jspx_eval_c_005fif_005f9 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                        do {
                            out.write("\n");
                            out.write("\t\t\tif (!Liferay.Browser.is_safari) {\n");
                            out.write("\t\t\t\t_$J(document).last(\n");
                            out.write("\t\t\t\t\tfunction() {\n");
                            out.write("\t\t\t\t\t\tReverseAjax.initialize();\n");
                            out.write("\t\t\t\t\t}\n");
                            out.write("\t\t\t\t);\n");
                            out.write("\t\t\t}\n");
                            out.write("\t\t");
                            int evalDoAfterBody = _jspx_th_c_005fif_005f9.doAfterBody();
                            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                        } while (true);
                    }
                    if (_jspx_th_c_005fif_005f9.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                        _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f9);
                        return;
                    }
                    _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f9);
                    out.write("\n");
                    out.write("\n");
                    out.write("\t\t");
                    String scroll = ParamUtil.getString(request, "scroll");
                    out.write("\n");
                    out.write("\n");
                    out.write("\t\t");
                    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f10 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
                    _jspx_th_c_005fif_005f10.setPageContext(_jspx_page_context);
                    _jspx_th_c_005fif_005f10.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f7);
                    _jspx_th_c_005fif_005f10.setTest(Validator.isNotNull(scroll));
                    int _jspx_eval_c_005fif_005f10 = _jspx_th_c_005fif_005f10.doStartTag();
                    if (_jspx_eval_c_005fif_005f10 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                        do {
                            out.write("\n");
                            out.write("\t\t\t_$J(document).last(\n");
                            out.write("\t\t\t\tfunction() {\n");
                            out.write("\t\t\t\t\tdocument.getElementById(\"");
                            out.print(scroll);
                            out.write("\").scrollIntoView();\n");
                            out.write("\t\t\t\t}\n");
                            out.write("\t\t\t);\n");
                            out.write("\t\t");
                            int evalDoAfterBody = _jspx_th_c_005fif_005f10.doAfterBody();
                            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                        } while (true);
                    }
                    if (_jspx_th_c_005fif_005f10.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                        _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f10);
                        return;
                    }
                    _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f10);
                    out.write('\n');
                    out.write('	');
                    int evalDoAfterBody = _jspx_th_c_005fif_005f7.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                } while (true);
            }
            if (_jspx_th_c_005fif_005f7.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f7);
                return;
            }
            _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f7);
            out.write("\n");
            out.write("\n");
            out.write("    ");
            org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f11 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
            _jspx_th_c_005fif_005f11.setPageContext(_jspx_page_context);
            _jspx_th_c_005fif_005f11.setParent(null);
            _jspx_th_c_005fif_005f11.setTest((layoutTypePortlet != null));
            int _jspx_eval_c_005fif_005f11 = _jspx_th_c_005fif_005f11.doStartTag();
            if (_jspx_eval_c_005fif_005f11 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                    out.write("\n");
                    out.write("\n");
                    out.write("\t\t");
                    List portletIds = layoutTypePortlet.getPortletIds();
                    out.write("\n");
                    out.write("\n");
                    out.write("        ");
                    org.apache.taglibs.standard.tag.common.core.ChooseTag _jspx_th_c_005fchoose_005f1 = (org.apache.taglibs.standard.tag.common.core.ChooseTag) _005fjspx_005ftagPool_005fc_005fchoose.get(org.apache.taglibs.standard.tag.common.core.ChooseTag.class);
                    _jspx_th_c_005fchoose_005f1.setPageContext(_jspx_page_context);
                    _jspx_th_c_005fchoose_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f11);
                    int _jspx_eval_c_005fchoose_005f1 = _jspx_th_c_005fchoose_005f1.doStartTag();
                    if (_jspx_eval_c_005fchoose_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                        do {
                            out.write("\n");
                            out.write("            ");
                            org.apache.taglibs.standard.tag.rt.core.WhenTag _jspx_th_c_005fwhen_005f1 = (org.apache.taglibs.standard.tag.rt.core.WhenTag) _005fjspx_005ftagPool_005fc_005fwhen_005ftest.get(org.apache.taglibs.standard.tag.rt.core.WhenTag.class);
                            _jspx_th_c_005fwhen_005f1.setPageContext(_jspx_page_context);
                            _jspx_th_c_005fwhen_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fchoose_005f1);
                            _jspx_th_c_005fwhen_005f1.setTest(portletIds.size() > 0 && !layoutTypePortlet.hasStateMax());
                            int _jspx_eval_c_005fwhen_005f1 = _jspx_th_c_005fwhen_005f1.doStartTag();
                            if (_jspx_eval_c_005fwhen_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                                do {
                                    out.write("\n");
                                    out.write("                Liferay.Portlet.list = {");
                                    for (int i = 0; i < portletIds.size(); i++) {
                                        out.print("\"" + portletIds.get(i) + "\":1");
                                        if (i < portletIds.size() - 1) {
                                            out.print(",");
                                        }
                                    }
                                    out.write("};\n");
                                    out.write("            ");
                                    int evalDoAfterBody = _jspx_th_c_005fwhen_005f1.doAfterBody();
                                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                                } while (true);
                            }
                            if (_jspx_th_c_005fwhen_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                                _005fjspx_005ftagPool_005fc_005fwhen_005ftest.reuse(_jspx_th_c_005fwhen_005f1);
                                return;
                            }
                            _005fjspx_005ftagPool_005fc_005fwhen_005ftest.reuse(_jspx_th_c_005fwhen_005f1);
                            out.write("\n");
                            out.write("            ");
                            if (_jspx_meth_c_005fotherwise_005f1(_jspx_th_c_005fchoose_005f1, _jspx_page_context)) return;
                            out.write("\n");
                            out.write("        ");
                            int evalDoAfterBody = _jspx_th_c_005fchoose_005f1.doAfterBody();
                            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                        } while (true);
                    }
                    if (_jspx_th_c_005fchoose_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                        _005fjspx_005ftagPool_005fc_005fchoose.reuse(_jspx_th_c_005fchoose_005f1);
                        return;
                    }
                    _005fjspx_005ftagPool_005fc_005fchoose.reuse(_jspx_th_c_005fchoose_005f1);
                    out.write('\n');
                    out.write('	');
                    int evalDoAfterBody = _jspx_th_c_005fif_005f11.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                } while (true);
            }
            if (_jspx_th_c_005fif_005f11.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f11);
                return;
            }
            _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f11);
            out.write('\n');
            out.write('\n');
            out.write('	');
            org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f12 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
            _jspx_th_c_005fif_005f12.setPageContext(_jspx_page_context);
            _jspx_th_c_005fif_005f12.setParent(null);
            _jspx_th_c_005fif_005f12.setTest((layout != null) && (LayoutPermissionUtil.contains(permissionChecker, layout, ActionKeys.UPDATE)));
            int _jspx_eval_c_005fif_005f12 = _jspx_th_c_005fif_005f12.doStartTag();
            if (_jspx_eval_c_005fif_005f12 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                    out.write("\n");
                    out.write("\t\tjQuery(document).ready(\n");
                    out.write("\t\t\tfunction() {\n");
                    out.write("\t\t\t\tif (themeDisplay.isFreeformLayout()) {\n");
                    out.write("\t\t\t\t\tLiferay.Freeform({\n");
                    out.write("\t\t\t\t\t\tcolumnSelector: \"div[@id^=layout-column_]\",\n");
                    out.write("\t\t\t\t\t\tboxSelector: \".portlet-boundary\"\n");
                    out.write("\t\t\t\t\t});\n");
                    out.write("\t\t\t\t}\n");
                    out.write("\t\t\t\telse {\n");
                    out.write("\t\t\t\t\tLiferay.Columns({\n");
                    out.write("\t\t\t\t\t\tcolumnSelector: \"div[@id^=layout-column_]\",\n");
                    out.write("\t\t\t\t\t\thandleSelector: \".portlet-title:first, .portlet-title-default:first\",\n");
                    out.write("\t\t\t\t\t\tboxSelector: \".portlet-boundary\" ,\n");
                    out.write("\t\t\t\t\t\tpositionClass: \"drop-position\",\n");
                    out.write("\t\t\t\t\t\tareaClass: \"drop-area\",\n");
                    out.write("\t\t\t\t\t\tonComplete: function(d) {\n");
                    out.write("\t\t\t\t\t\t\tLiferay.Portlet.move(d);\n");
                    out.write("\t\t\t\t\t\t}\n");
                    out.write("\t\t\t\t\t});\n");
                    out.write("\t\t\t\t}\n");
                    out.write("\n");
                    out.write("\t\t\t\tnew Liferay.Navigation(\n");
                    out.write("\t\t\t\t\t{\n");
                    out.write("\t\t\t\t\t\tlayoutIds: [");
                    out.print(ListUtil.toString(layouts, "layoutId"));
                    out.write("],\n");
                    out.write("\t\t\t\t\t\tnavBlock: '#navigation'\n");
                    out.write("\t\t\t\t\t}\n");
                    out.write("\t\t\t\t);\n");
                    out.write("\n");
                    out.write("\t\t\t\t/*jQuery(\".journal-content-eip-text\").leditable(\n");
                    out.write("\t\t\t\t\t\"");
                    out.print(themeDisplay.getPathMain());
                    out.write("/journal_content/update_article_field\",\n");
                    out.write("\t\t\t\t\t{\n");
                    out.write("\t\t\t\t\t\tcancel: Liferay.Language.get('cancel'),\n");
                    out.write("\t\t\t\t\t\tevent: 'click',\n");
                    out.write("\t\t\t\t\t\tid: 'fieldName',\n");
                    out.write("\t\t\t\t\t\tname: 'fieldData',\n");
                    out.write("\t\t\t\t\t\tsubmit: Liferay.Language.get('ok'),\n");
                    out.write("\t\t\t\t\t\ttype: 'textarea',\n");
                    out.write("\t\t\t\t\t\twidth: '100%'\n");
                    out.write("\t\t\t\t\t}\n");
                    out.write("\t\t\t\t);\n");
                    out.write("\n");
                    out.write("\t\t\t\tjQuery(\".journal-content-eip-text_box\").leditable(\n");
                    out.write("\t\t\t\t\t\"");
                    out.print(themeDisplay.getPathMain());
                    out.write("/journal_content/update_article_field\",\n");
                    out.write("\t\t\t\t\t{\n");
                    out.write("\t\t\t\t\t\tcancel: Liferay.Language.get('cancel'),\n");
                    out.write("\t\t\t\t\t\tevent: 'click',\n");
                    out.write("\t\t\t\t\t\tid: 'fieldName',\n");
                    out.write("\t\t\t\t\t\tname: 'fieldData',\n");
                    out.write("\t\t\t\t\t\tsubmit: Liferay.Language.get('ok'),\n");
                    out.write("\t\t\t\t\t\ttype: 'textarea',\n");
                    out.write("\t\t\t\t\t\twidth: '100%'\n");
                    out.write("\t\t\t\t\t}\n");
                    out.write("\t\t\t\t);\n");
                    out.write("\n");
                    out.write("\t\t\t\tjQuery(\".journal-content-eip-text_area\").leditable(\n");
                    out.write("\t\t\t\t\t\"");
                    out.print(themeDisplay.getPathMain());
                    out.write("/journal_content/update_article_field\",\n");
                    out.write("\t\t\t\t\t{\n");
                    out.write("\t\t\t\t\t\tcancel: Liferay.Language.get('cancel'),\n");
                    out.write("\t\t\t\t\t\tevent: 'click',\n");
                    out.write("\t\t\t\t\t\tid: 'fieldName',\n");
                    out.write("\t\t\t\t\t\tname: 'fieldData',\n");
                    out.write("\t\t\t\t\t\tsubmit: Liferay.Language.get('ok'),\n");
                    out.write("\t\t\t\t\t\ttype: 'fcktextarea',\n");
                    out.write("\t\t\t\t\t\twidth: '100%'\n");
                    out.write("\t\t\t\t\t}\n");
                    out.write("\t\t\t\t);*/\n");
                    out.write("\t\t\t}\n");
                    out.write("\t\t);\n");
                    out.write("\t");
                    int evalDoAfterBody = _jspx_th_c_005fif_005f12.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                } while (true);
            }
            if (_jspx_th_c_005fif_005f12.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f12);
                return;
            }
            _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f12);
            out.write("\n");
            out.write("\n");
            out.write("\tjQuery(document).ready(\n");
            out.write("\t\tfunction() {\n");
            out.write("\t\t\tLiferay.Dock.init();\n");
            out.write("\t\t}\n");
            out.write("\t);\n");
            out.write("</script>");
            out.write('\n');
            out.write('\n');
            out.write('\n');
            org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f13 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
            _jspx_th_c_005fif_005f13.setPageContext(_jspx_page_context);
            _jspx_th_c_005fif_005f13.setParent(null);
            _jspx_th_c_005fif_005f13.setTest(portlets != null);
            int _jspx_eval_c_005fif_005f13 = _jspx_th_c_005fif_005f13.doStartTag();
            if (_jspx_eval_c_005fif_005f13 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                    out.write('\n');
                    out.write('\n');
                    out.write('	');
                    Set headerJavaScriptPortlets = CollectionFactory.getHashSet();
                    Set headerJavaScriptPaths = CollectionFactory.getHashSet();
                    for (int i = 0; i < portlets.size(); i++) {
                        Portlet portlet = (Portlet) portlets.get(i);
                        if (!headerJavaScriptPortlets.contains(portlet.getRootPortletId())) {
                            headerJavaScriptPortlets.add(portlet.getRootPortletId());
                            List headerJavaScriptList = portlet.getHeaderJavaScript();
                            for (int j = 0; j < headerJavaScriptList.size(); j++) {
                                String headerJavaScript = (String) headerJavaScriptList.get(j);
                                String headerJavaScriptPath = portlet.getContextPath() + headerJavaScript;
                                if (!headerJavaScriptPaths.contains(headerJavaScriptPath)) {
                                    headerJavaScriptPaths.add(headerJavaScriptPath);
                                    out.write("\n");
                                    out.write("\n");
                                    out.write("\t\t\t\t\t<script src=\"");
                                    out.print(headerJavaScriptPath);
                                    out.write("\" type=\"text/javascript\"></script>\n");
                                    out.write("\n");
                                    out.write("\t");
                                }
                            }
                        }
                    }
                    out.write('\n');
                    out.write('\n');
                    int evalDoAfterBody = _jspx_th_c_005fif_005f13.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN) break;
                } while (true);
            }
            if (_jspx_th_c_005fif_005f13.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f13);
                return;
            }
            _005fjspx_005ftagPool_005fc_005fif_005ftest.reuse(_jspx_th_c_005fif_005f13);
            out.write('\n');
            out.write('\n');
        } catch (Throwable t) {
            if (!(t instanceof SkipPageException)) {
                out = _jspx_out;
                if (out != null && out.getBufferSize() != 0) out.clearBuffer();
                if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
            }
        } finally {
            if (_jspxFactory != null) _jspxFactory.releasePageContext(_jspx_page_context);
        }
    }
